<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ankang</title>
  <icon>https://www.gravatar.com/avatar/c4114f39e729347bafc2f1759865816e</icon>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://ankang.icu/"/>
  <updated>2021-04-19T00:08:04.327Z</updated>
  <id>http://ankang.icu/</id>
  
  <author>
    <name>ankang</name>
    <email>ankangz98@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Promise中的then方法理解</title>
    <link href="http://ankang.icu/2021/04/17/Promise%E4%B8%AD%E7%9A%84then%E6%96%B9%E6%B3%95%E7%90%86%E8%A7%A3/"/>
    <id>http://ankang.icu/2021/04/17/Promise中的then方法理解/</id>
    <published>2021-04-17T00:06:01.000Z</published>
    <updated>2021-04-19T00:08:04.327Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop:"></a>Event Loop:</h2><p>同步任务、异步任务</p><h5 id="宏任务："><a href="#宏任务：" class="headerlink" title="宏任务："></a>宏任务：</h5><ul><li><p>setTimeout</p></li><li><p>setInterval</p></li></ul><h5 id="微任务："><a href="#微任务：" class="headerlink" title="微任务："></a>微任务：</h5><ul><li>Promise</li></ul><a id="more"></a><h2 id="Promise："><a href="#Promise：" class="headerlink" title="Promise："></a>Promise：</h2><p>先执行同步任务，当执行到宏任务时，开辟<strong>新任务列</strong>放在最顶端执行；当遇到微任务时，放在当前任务列的最低端执行。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span> (<span class="function"><span class="keyword">function</span> (<span class="params">resolve,reject</span>) </span>&#123;</span><br><span class="line">resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>. Log(<span class="string">"a"</span>);</span><br><span class="line">&#125;，<span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span> (<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    resolve();</span><br><span class="line">&#125;). then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"b"</span>);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;, <span class="number">0</span>);<span class="comment">//b,a</span></span><br></pre></td></tr></table></figure><p>Promise.then()方法提供一个供自定义的回调函数，如果上一个函数的返回值非函数，则会忽略当前的then方法，回调函数结束会把程序的返回值传给下一个then方法中的函数当作参数使用。没有返回值默认为undefined。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="string">'返回值'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cb = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'新的值'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先定义了两个函数，对不同情况进行分析：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">func().then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cb();</span><br><span class="line">&#125;).then(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(resp);</span><br><span class="line">    <span class="built_in">console</span>.warn(<span class="string">'1 =========&lt;'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//新的值</span></span><br><span class="line"><span class="comment">//1 =========&lt;</span></span><br></pre></td></tr></table></figure><p><code>return cb()</code>表示执行cb函数，并将其结果（新的值）返回出去，在下一个then方法中resp接收了上一个then方法返回值的值（新的值）作为自己回调函数的参数使用。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">func().then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    cb();</span><br><span class="line">&#125;).then(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(resp);</span><br><span class="line">    <span class="built_in">console</span>.warn(<span class="string">'2 =========&lt;'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//undefined</span></span><br><span class="line"><span class="comment">//2 =========&lt;</span></span><br></pre></td></tr></table></figure><p>因为第一个then方法中只是执行了cb方法，而没有return返回值，默认下一个then方法的参数为undefined。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">func().then(cb()).then(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(resp);</span><br><span class="line">    <span class="built_in">console</span>.warn(<span class="string">'3 =========&lt;'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//返回值</span></span><br><span class="line"><span class="comment">//3 =========&lt;</span></span><br></pre></td></tr></table></figure><p>第一个then方法中<code>cb()</code>函数先执行，结果为（新的值）非函数，官方文档中要求若传入then方法的参数不是函数，当前then方法必须被忽略：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func().then(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(resp);</span><br><span class="line">    <span class="built_in">console</span>.warn(<span class="string">'3 =========&lt;'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>所以func()的返回结果直接传给then()方法中的回调函数作为参数resp的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">func().then(cb).then(<span class="function"><span class="params">resp</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(resp);</span><br><span class="line">    <span class="built_in">console</span>.warn(<span class="string">'4 =========&lt;'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//返回值</span></span><br><span class="line"><span class="comment">//4 =========&lt;</span></span><br></pre></td></tr></table></figure><p>关键在于第一个then方法的参数为<code>cb</code>=== <code>then(function(){return &#39;新的值&#39;})</code>；与第一个实例有同样的效果，同时也满足then方法中要传入一个函数的要求。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Event-Loop&quot;&gt;&lt;a href=&quot;#Event-Loop&quot; class=&quot;headerlink&quot; title=&quot;Event Loop:&quot;&gt;&lt;/a&gt;Event Loop:&lt;/h2&gt;&lt;p&gt;同步任务、异步任务&lt;/p&gt;
&lt;h5 id=&quot;宏任务：&quot;&gt;&lt;a href=&quot;#宏任务：&quot; class=&quot;headerlink&quot; title=&quot;宏任务：&quot;&gt;&lt;/a&gt;宏任务：&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;setTimeout&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;setInterval&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;微任务：&quot;&gt;&lt;a href=&quot;#微任务：&quot; class=&quot;headerlink&quot; title=&quot;微任务：&quot;&gt;&lt;/a&gt;微任务：&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;Promise&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="异步" scheme="http://ankang.icu/tags/%E5%BC%82%E6%AD%A5/"/>
    
      <category term="ES6" scheme="http://ankang.icu/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>cookie/localstorage</title>
    <link href="http://ankang.icu/2021/04/16/cookie-localstorage/"/>
    <id>http://ankang.icu/2021/04/16/cookie-localstorage/</id>
    <published>2021-04-16T02:04:23.000Z</published>
    <updated>2021-04-17T02:07:34.270Z</updated>
    
    <content type="html"><![CDATA[<h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie:"></a>cookie:</h2><p>会话跟踪技术</p><ul><li><p>会默认在请求头里面携带</p></li><li><h5 id="前端cookie"><a href="#前端cookie" class="headerlink" title="前端cookie"></a>前端cookie</h5></li><li><p>一套协议域名端口对应一套cookie</p></li><li><p>存储在当前浏览器独立创建的本地文件</p></li><li><p>cookie里面存储的信息是纯文本形式的</p></li><li><p>cookie里面存储信息最大4kb，最大条数为50</p></li><li><p>时效性：默认 session</p></li><li><p>cookie是必须同域名，同协议，同端口的页面才可以访问</p></li><li><p>浏览器通过 协议+域名+端口作为key值，cookie作为value，实现映射结构的数据存储</p></li><li><p>cookie是有安全限制; (很像作用域 / 以文件夹为单位的父子级包裹关系，决定了cookie的可访问性)</p></li><li><p>cookie的所有特征都是用字符串去描述的</p></li></ul><a id="more"></a><ul><li><p>获取cookie：<code>document.cookie</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">"username=123456"</span>;</span><br></pre></td></tr></table></figure></li><li><p>domain 一般不设置;</p><ul><li>早期用来做跨域</li></ul></li><li><p>cookie设置时一条cookie的所有信息都放在一个字符串上;</p></li><li><p>需要设置path</p><ul><li>不同path的cookie不是同一条cookie;</li></ul></li><li><p>设置expires : 过期时间;</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">d.setDate( d.getDate() + <span class="number">15</span> );</span><br><span class="line"><span class="comment">// console.log(d);</span></span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">"username=456789;path=/GP23;expires="</span> + d;</span><br></pre></td></tr></table></figure></li><li><p>cookie获取：</p></li><li><p>取出的cookie都用 ;空格 去进行间隔;</p></li><li><p><code>console.log(document.cookie);</code></p></li><li><h5 id="后端cookie"><a href="#后端cookie" class="headerlink" title="后端cookie"></a>后端cookie</h5></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setCookie  设置cookie;</span><br><span class="line">$_COOKIE   获取cookie;</span><br></pre></td></tr></table></figure></li></ul><h2 id="localstorage："><a href="#localstorage：" class="headerlink" title="localstorage："></a>localstorage：</h2><p>在当前浏览器，持久存储数据的技术我们称之为本地存储技术</p><ul><li><h5 id="特定于页面的协议"><a href="#特定于页面的协议" class="headerlink" title="特定于页面的协议"></a>特定于页面的协议</h5></li><li><h5 id="localStorage-中的键值对总是以字符串的形式存储。"><a href="#localStorage-中的键值对总是以字符串的形式存储。" class="headerlink" title="localStorage 中的键值对总是以字符串的形式存储。"></a><code>localStorage</code> 中的键值对总是以字符串的形式存储。</h5></li><li><p>键值对总是以字符串的形式存储意味着数值类型会自动转化为字符串类型</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">localStorage.setItem();</span><br><span class="line">localStorage.getItem();<span class="comment">//读取</span></span><br><span class="line">localStorage.key();<span class="comment">//返回数据中某个key值（下标）</span></span><br><span class="line">localStorage.removeItem();<span class="comment">//移除</span></span><br><span class="line">localStorage.clear();<span class="comment">//移除所有</span></span><br></pre></td></tr></table></figure><h2 id="JSON-stringify-："><a href="#JSON-stringify-：" class="headerlink" title="JSON.stringify()："></a>JSON.stringify()：</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(value[, replacer [, space]])</span><br></pre></td></tr></table></figure><p>将一个 JavaScript 对象或值转换为 JSON 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。</p><h2 id="HTTP协议："><a href="#HTTP协议：" class="headerlink" title="HTTP协议："></a>HTTP协议：</h2><p>无论请求还是响应格式都是http规定的格式</p><p>请求报文：</p><ul><li>请求行：<ul><li>http协议版本：1.1</li><li>请求方式：GET   POST    PATCH    PUT    DELETE</li></ul></li><li>请求头：</li><li>请求空行</li><li>请求体（请求方式为POST）</li></ul><p>请求字段：</p><ul><li><p>GET：放在url之中</p></li><li><p>POST：放在请求体之中</p></li></ul><p>响应报文：</p><ul><li>响应行<ul><li>http协议版本 / 响应状态码</li><li>1* : 准备状态 用不着看不到的状态; </li><li>2 : 成功状态; </li><li>3 : 重定向状态;</li><li>4 : 请求错误 ; </li></ul></li><li>响应头</li><li>响应体</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;cookie&quot;&gt;&lt;a href=&quot;#cookie&quot; class=&quot;headerlink&quot; title=&quot;cookie:&quot;&gt;&lt;/a&gt;cookie:&lt;/h2&gt;&lt;p&gt;会话跟踪技术&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;会默认在请求头里面携带&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h5 id=&quot;前端cookie&quot;&gt;&lt;a href=&quot;#前端cookie&quot; class=&quot;headerlink&quot; title=&quot;前端cookie&quot;&gt;&lt;/a&gt;前端cookie&lt;/h5&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;一套协议域名端口对应一套cookie&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;存储在当前浏览器独立创建的本地文件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cookie里面存储的信息是纯文本形式的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cookie里面存储信息最大4kb，最大条数为50&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;时效性：默认 session&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cookie是必须同域名，同协议，同端口的页面才可以访问&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;浏览器通过 协议+域名+端口作为key值，cookie作为value，实现映射结构的数据存储&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cookie是有安全限制; (很像作用域 / 以文件夹为单位的父子级包裹关系，决定了cookie的可访问性)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cookie的所有特征都是用字符串去描述的&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://ankang.icu/tags/Server/"/>
    
  </entry>
  
  <entry>
    <title>CORS跨域/async-await/fetch</title>
    <link href="http://ankang.icu/2021/04/15/CORS%E8%B7%A8%E5%9F%9F-async-await-fetch/"/>
    <id>http://ankang.icu/2021/04/15/CORS跨域-async-await-fetch/</id>
    <published>2021-04-15T01:58:12.000Z</published>
    <updated>2021-04-17T02:01:39.151Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CORS跨域："><a href="#CORS跨域：" class="headerlink" title="CORS跨域："></a>CORS跨域：</h2><ul><li>CORS跨域是后端响应头的配置</li><li>CORS跨域主要是服务端配置的</li><li>在后端语言之中配置</li></ul><h2 id="promise"><a href="#promise" class="headerlink" title="promise:"></a>promise:</h2><h5 id="异步："><a href="#异步：" class="headerlink" title="异步："></a>异步：</h5><ul><li><p>主要用来解决异步回调地狱问题</p></li><li><p>Promise:承诺</p></li><li><h5 id="状态："><a href="#状态：" class="headerlink" title="状态："></a>状态：</h5><ul><li>pendding：正在进行；</li><li>fulfilled：成功履行承诺</li><li>rejected：没有遵守承诺</li></ul></li><li><p>承诺的状态一旦发生改变，那么这个状态不可逆</p></li></ul><a id="more"></a><ul><li><p>创建：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">fulfill,reject</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// fulfill 是改变promsie对象状态为成功的工具函数</span></span><br><span class="line">    <span class="comment">// reject   改变promise对象状态为失败的工具函数</span></span><br><span class="line">    <span class="comment">//fulfill();</span></span><br><span class="line">    <span class="comment">//reject();</span></span><br><span class="line">    setTimeout( <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        fulfill();</span><br><span class="line">    &#125; , <span class="number">3000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(promise)</span><br></pre></td></tr></table></figure></li><li><p>内部工具函数的执行是同步的，只要promise对象被创建出来，函数一定会被执行</p></li><li><p>一般会主动定义promise对象状态改变的规则</p></li><li><p>使用异步程序改变promise状态</p></li><li><p>promise对象创建 : </p><ul><li>调用 Promise构造函数; </li><li>传入 resolver 函数; </li><li>在 resolver 函数之中定义状态改变规则; </li></ul></li><li><h5 id="状态监听函数："><a href="#状态监听函数：" class="headerlink" title="状态监听函数："></a>状态监听函数：</h5></li><li><ul><li><code>then()</code>监听promise状态的改变；</li><li><code>catch()</code>监听promise状态改变为rejected；</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">p.catch( <span class="function"><span class="keyword">function</span>(<span class="params"> err </span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"hello error"</span>;</span><br><span class="line">&#125;<span class="keyword">catch</span>( e )&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>finally()</code>：只要状态改变了就会进入这个函数中；状态改变不做数据的处理</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function"><span class="keyword">function</span>(<span class="params"> fulfill , reject </span>)</span>&#123;</span><br><span class="line">    fulfill( <span class="string">"hello world"</span> );</span><br><span class="line">&#125;)</span><br><span class="line">p.finally(<span class="function"><span class="keyword">function</span>(<span class="params"> res </span>)</span>&#123;</span><br><span class="line">    <span class="comment">// res : 是undefined; </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"状态改变就会执行"</span> , res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><h5 id="then-fn1-fn2-："><a href="#then-fn1-fn2-：" class="headerlink" title="then( fn1 , fn2 )："></a>then( fn1 , fn2 )：</h5></li><li><p>fn1：成功的时候会调用的回调函数</p></li><li><p>fn2：失败的时候会调用的回调函数</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"状态变为成功"</span>);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"状态变为失败"</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><h5 id="then方法的返回值："><a href="#then方法的返回值：" class="headerlink" title="then方法的返回值："></a>then方法的返回值：</h5></li><li><p>回调函数中没有写return的情况下，返回值为promise对象</p></li><li><p>函数中写了return，新的promise对象的情况下，返回值就是新的promise对象</p></li><li><p>注意：</p></li><li><p>使用then之后可以去返回一个新的promsie对象用以连缀</p></li></ul><h2 id="async-await"><a href="#async-await" class="headerlink" title="async-await:"></a>async-await:</h2><h5 id="async"><a href="#async" class="headerlink" title="async:"></a>async:</h5><ul><li><p>用于定义函数的关键字–异步</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">load</span>(<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>async定义的函数默认的返回值是promise对象</p></li><li><p>只是返回一个promise对象，不能取代promise对象的构造</p></li></ul><h5 id="await"><a href="#await" class="headerlink" title="await:"></a>await:</h5><ul><li>只能在async定义的函数中使用</li><li>会等待promise对象状态变为成功，并且把then里面的参数返回出来</li><li>将异步回调函数写法变为了同步的代码写法</li><li>await之前的代码都是同步程序</li><li>await后面的所有程序都是异步的</li></ul><h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch:"></a>fetch:</h2><p>xhr 请求发送工具</p><ul><li><p>属于浏览器的高级封装</p></li><li><p>完全不兼容IE—PC端不能用</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fetch(url,options)</span><br></pre></td></tr></table></figure></li><li><p>返回值为promise</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">load</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 返回响应对象; </span></span><br><span class="line">    <span class="keyword">let</span> response = <span class="keyword">await</span> fetch(<span class="string">"./01_cors.php"</span>);</span><br><span class="line">    <span class="comment">// 处理响应对象，决定响应数据的类型; </span></span><br><span class="line">    <span class="keyword">let</span> data = <span class="keyword">await</span> response.text();</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;</span><br><span class="line">load();</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;CORS跨域：&quot;&gt;&lt;a href=&quot;#CORS跨域：&quot; class=&quot;headerlink&quot; title=&quot;CORS跨域：&quot;&gt;&lt;/a&gt;CORS跨域：&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;CORS跨域是后端响应头的配置&lt;/li&gt;
&lt;li&gt;CORS跨域主要是服务端配置的&lt;/li&gt;
&lt;li&gt;在后端语言之中配置&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;promise&quot;&gt;&lt;a href=&quot;#promise&quot; class=&quot;headerlink&quot; title=&quot;promise:&quot;&gt;&lt;/a&gt;promise:&lt;/h2&gt;&lt;h5 id=&quot;异步：&quot;&gt;&lt;a href=&quot;#异步：&quot; class=&quot;headerlink&quot; title=&quot;异步：&quot;&gt;&lt;/a&gt;异步：&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;主要用来解决异步回调地狱问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Promise:承诺&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;h5 id=&quot;状态：&quot;&gt;&lt;a href=&quot;#状态：&quot; class=&quot;headerlink&quot; title=&quot;状态：&quot;&gt;&lt;/a&gt;状态：&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;pendding：正在进行；&lt;/li&gt;
&lt;li&gt;fulfilled：成功履行承诺&lt;/li&gt;
&lt;li&gt;rejected：没有遵守承诺&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;承诺的状态一旦发生改变，那么这个状态不可逆&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://ankang.icu/tags/Server/"/>
    
      <category term="异步" scheme="http://ankang.icu/tags/%E5%BC%82%E6%AD%A5/"/>
    
      <category term="Ajax" scheme="http://ankang.icu/tags/Ajax/"/>
    
  </entry>
  
  <entry>
    <title>Promise.then/JSONP跨域</title>
    <link href="http://ankang.icu/2021/04/14/Promise-then-JSONP%E8%B7%A8%E5%9F%9F/"/>
    <id>http://ankang.icu/2021/04/14/Promise-then-JSONP跨域/</id>
    <published>2021-04-14T01:49:27.000Z</published>
    <updated>2021-04-17T02:01:15.137Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Web-Worker"><a href="#Web-Worker" class="headerlink" title="Web Worker"></a>Web Worker</h2><p>同步实现优先于异步实现</p><ul><li>异步队列中如果先执行完会等待同步完成</li><li>子元素和父元素的侦听顺序</li></ul><p>Promise.then</p><p>GET和POST区别</p><p>JSONP跨域</p><a id="more"></a><h2 id="Promise："><a href="#Promise：" class="headerlink" title="Promise："></a>Promise：</h2><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImage</span>(<span class="params">src</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,rejrct</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> img=<span class="keyword">new</span> Image();</span><br><span class="line">        img.src=src;</span><br><span class="line">        img.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            resolve();</span><br><span class="line">        &#125;</span><br><span class="line">        img.onerror=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            reject();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">loadImage(<span class="string">"./img/1.jpg"</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"1加载完成"</span>);</span><br><span class="line">    <span class="keyword">return</span> loadImage(<span class="string">"./img/2.jpg"</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"2加载完成"</span>);</span><br><span class="line">    <span class="keyword">return</span> loadImage(<span class="string">"./img/3.jpg"</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"3加载完成"</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>resolve和reject两个方法只能二选一执行</p></li><li><p>PromiseState初始值：pending;</p></li><li><p>当执行resolve函数时或者reject函数时，首先判断状态是不是pending，如果是pending，则运行调用相应的函数；如果不是pending，不执行后面的函数</p></li><li><p>resolve执行：fulfilled</p></li><li><p>reject执行：rejected</p></li><li><p>链式结构</p></li><li><p><code>Promise.all</code></p></li><li><p>当列表中每一个Promise全部执行完成resolve后，调用then中的函数，并且将resolve中的参数全部放在一个数组中共同返回</p></li><li><p><code>promise.race</code></p></li><li><p>若干个Promise最先完成执行的返回参数</p></li><li><p>resolve和reject只能传一个参数</p></li><li><p>回调函数–红绿灯</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showLight</span>(<span class="params">light,time</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!item) time=<span class="number">2000</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(light);</span><br><span class="line">            resolve();</span><br><span class="line">        &#125;,time);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">fns();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fns</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    showLight(<span class="string">"红灯"</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> showLight(<span class="string">"黄灯"</span>);</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> showLight(<span class="string">"绿灯"</span>);</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        fns();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>连缀：</p><ul><li>在promise.then中如果连缀没有返回promise，会新创建一个，并且执行resolve。</li></ul><h2 id="GET和POST区别："><a href="#GET和POST区别：" class="headerlink" title="GET和POST区别："></a>GET和POST区别：</h2><ul><li>发送数据的大小<ul><li>POST 不限制数据发送大小</li><li>GET  限制数据发送大小 4KB</li></ul></li><li>安全性<ul><li>GET 更为安全的一种请求方式</li><li>POST 是存在风险的</li><li>数据放在请求头里还是放在请求体里差别不大</li></ul></li><li>性能<ul><li>POST 性能差</li><li>GET 性能好</li></ul></li><li>语义化差异<ul><li>POST 是INSERT行为</li><li>GET 是SELECT行为</li></ul></li></ul><h2 id="跨域："><a href="#跨域：" class="headerlink" title="跨域："></a>跨域：</h2><p>同源策略：</p><ul><li>协议</li><li>域名</li><li>端口</li></ul><p>限制：</p><ul><li><p>浏览器限制</p></li><li><p>仅限于浏览器和服务器交互会发生跨域限制</p></li><li><p>仅限于xhr对象发起请求会有跨域限制</p></li></ul><p>技术：</p><ul><li>JSONP</li><li>CORS</li><li>服务器代理</li></ul><p>JSONP：</p><ul><li>降权===&gt;只能发送GET请求</li><li>使用标签代替xhr发送请求</li><li>标签src可以规避同源策略问题</li><li>必须提前准备好函数体，配合请求过来的函数调用</li><li>请求的script标签必须放在全局函数声明之后</li></ul><p>优化：</p><ul><li>动态生成script标签</li><li>防止冗余标签，加载完成后删除</li></ul><p><img src="/2021/04/14/Promise-then-JSONP跨域/img.png" alt="状态码"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Web-Worker&quot;&gt;&lt;a href=&quot;#Web-Worker&quot; class=&quot;headerlink&quot; title=&quot;Web Worker&quot;&gt;&lt;/a&gt;Web Worker&lt;/h2&gt;&lt;p&gt;同步实现优先于异步实现&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;异步队列中如果先执行完会等待同步完成&lt;/li&gt;
&lt;li&gt;子元素和父元素的侦听顺序&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Promise.then&lt;/p&gt;
&lt;p&gt;GET和POST区别&lt;/p&gt;
&lt;p&gt;JSONP跨域&lt;/p&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://ankang.icu/tags/Server/"/>
    
      <category term="ES6，异步" scheme="http://ankang.icu/tags/ES6%EF%BC%8C%E5%BC%82%E6%AD%A5/"/>
    
  </entry>
  
  <entry>
    <title>前后端分离/Ajax</title>
    <link href="http://ankang.icu/2021/04/13/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB-Ajax/"/>
    <id>http://ankang.icu/2021/04/13/前后端分离-Ajax/</id>
    <published>2021-04-13T14:18:44.000Z</published>
    <updated>2021-04-13T14:22:07.654Z</updated>
    
    <content type="html"><![CDATA[<ol><li>前后端分离技术</li><li>PHP与MySQL数据库</li><li>Ajax–异步</li></ol><h2 id="http协议补充-请求携带数据"><a href="#http协议补充-请求携带数据" class="headerlink" title="http协议补充 - 请求携带数据"></a>http协议补充 - 请求携带数据</h2><ul><li>GET : GET 请求的数据全部放在url路径之中 ; </li><li>路径后方可以拼接php数据 <ul><li>url?key=value&amp;key2=value</li><li>使用GET请求携带的数据, 以key为键，以value为值 以组的形式进行发送; </li><li>每条数据都以key=value形式进行分割; </li></ul></li><li>我们通常把传递数据的key值称之为 <code>字段</code>;</li></ul><a id="more"></a><h2 id="php操作数据库"><a href="#php操作数据库" class="headerlink" title="php操作数据库"></a>php操作数据库</h2><ul><li><p>php是一个后端语言， 其核心职责之一就是操作数据库; </p></li><li><p>php本身给我们提供了一套操作数据库的工具 : mysqli </p><ul><li><ol><li>链接数据库 connect; </li></ol></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mysqli_connect("服务器路径" , "数据库账号" , "数据库密码" , "数据库名称")</span></span><br></pre></td></tr></table></figure></li><li><p>返回值有可能为 资源秘钥 ；也可能为空值; </p></li><li><ol start="2"><li>SQL语句执行工具  query ; </li></ol></li><li><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$insert_sql = <span class="string">"INSERT INTO `usertable` VALUES ('ankang' , '123123' , null)"</span>;</span><br><span class="line">$res = mysqli_query($con , $insert_sql);</span><br></pre></td></tr></table></figure></li><li><p>我们操作数据库还是需要sql语句; </p></li><li><ol start="3"><li>php查询数据库会返回一个资源类型，我们会对资源类型进行特殊处理 ; </li></ol><ul><li>fetch_all API ; </li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$array = mysqli_fetch_all($select_res,MYSQLI_ASSOC);</span><br><span class="line"><span class="keyword">echo</span> json_encode($array);</span><br></pre></td></tr></table></figure><ul><li>MYSQLI_ASSOC MYSQLI_NUM ;</li></ul></li><li><ol start="4"><li>error : 数据库报错信息; </li></ol></li><li><p>错误处理判断 <code>$con</code></p></li><li><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( !$con )&#123;</span><br><span class="line">    <span class="comment">// API : die 终止全局代码执行 </span></span><br><span class="line">    <span class="comment">// API : mysqli_error($con) 报出当前连接的错误信息用于排错; </span></span><br><span class="line">    <span class="keyword">die</span>(<span class="string">"数据库连接错误,错误信息:"</span> . mysqli_error($con));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqli_close($con);<span class="comment">//关闭数据库</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>引入连接数据库的文件</p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&quot;./02_php链接数据库.php&quot;);</span><br></pre></td></tr></table></figure></li><li><p>在php之中编写sql语句所有的表名称，以及字段名全都用<code></code> 反引号引起来; </p></li><li><p>我们表之中设置好类型为varchar的字符串，一定要在数据前面加上 ‘’ —把数据识别为varchar; </p></li></ul><h2 id="前后端分离"><a href="#前后端分离" class="headerlink" title="前后端分离"></a>前后端分离</h2><ul><li>使我们现代项目开发的核心思想; </li><li><p>前后端的开发效率不一致 ： </p><ul><li>后端慢 :  1. 业务逻辑 2. 数据库操作 3. 安全 </li><li>前端快 :  </li></ul></li><li><p>前后端职责进行明确的划分 : </p><ul><li>前端工作职责大多在使用浏览器发送请求，处理服务的响应; </li><li>后端的工作职责是做一个黑盒子; </li></ul></li><li><p>如何协作 : </p><ul><li>在项目开发之前就定义好请求和响应的规则; </li><li>我们需要书面格式的规则说明 =&gt; 面向前端的 =&gt; 接口文档; </li></ul></li></ul><h1 id="接口文档"><a href="#接口文档" class="headerlink" title="接口文档"></a>接口文档</h1><h2 id="接口路径"><a href="#接口路径" class="headerlink" title="接口路径"></a>接口路径</h2><ul><li>url : <a href="http://www.baidu.com/xxx.php" target="_blank" rel="noopener">http://www.baidu.com/xxx.php</a></li></ul><h2 id="请求方式"><a href="#请求方式" class="headerlink" title="请求方式"></a>请求方式</h2><ul><li>GET | POST | PATCH | PUT | DELETE </li></ul><h2 id="请求字段信息"><a href="#请求字段信息" class="headerlink" title="请求字段信息"></a>请求字段信息</h2><ul><li>username : string </li><li>password : string </li></ul><h2 id="返回数据实例"><a href="#返回数据实例" class="headerlink" title="返回数据实例"></a>返回数据实例</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">"data"</span>  : <span class="string">"hello world"</span> &#125;</span><br></pre></td></tr></table></figure><ul><li>注意事项 : <ul><li><ol><li>定义的字段名必须是英文; </li></ol></li><li><ol start="2"><li>请求方式必须明确; </li></ol></li><li><ol start="3"><li>后端响应的数据必须是json格式;  </li></ol></li><li>“{“username” : “wuyanzu” , “password”:123456, “id” : 3 , “type” : “success”}”; </li><li>有一个API 可以把json字符串转换成对象数组类型; </li></ul></li></ul><h2 id="AJAX："><a href="#AJAX：" class="headerlink" title="AJAX："></a>AJAX：</h2><ul><li><p>异步的类型：</p><ul><li>事件; =&gt; 事件处理函数</li><li>定时器/延时器; =&gt; 定时器的回调函数</li><li>ajax</li><li>promise.then</li></ul></li><li><p>异步 JavaScript and xml</p></li><li><p>xhr：（小黄人）XMLHttpRequest</p><ul><li>无刷新发起浏览器请求</li><li>接收服务器的响应</li><li>发起请求–有三步</li><li>接收响应–一步</li></ul></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//每一个请求都要创建一个新的xhr实例对象</span></span><br><span class="line"><span class="keyword">var</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"><span class="comment">//请求是必须有目标，并且想要获取数据的</span></span><br><span class="line"><span class="comment">// - 请求目标</span></span><br><span class="line"><span class="comment">// - 请求方式</span></span><br><span class="line"><span class="keyword">var</span> url=<span class="string">""</span>;</span><br><span class="line">xhr.open(<span class="string">"GET"</span>,url)</span><br><span class="line"><span class="comment">//源路径与请求目标的路径同协议、同端口、同域名</span></span><br><span class="line"><span class="comment">//发送行为</span></span><br><span class="line">xhr.send();</span><br><span class="line"><span class="comment">//响应处理</span></span><br><span class="line"><span class="comment">// - xhr.readyState : xhr的请求状态</span></span><br><span class="line"><span class="comment">// - 0 ~ 4 五个状态 ; </span></span><br><span class="line"><span class="comment">// - 4 : 成功; </span></span><br><span class="line"><span class="comment">// - xhr.status : http状态码 ; </span></span><br><span class="line"><span class="comment">// 200 : 成功; </span></span><br><span class="line"><span class="comment">// 2开头的所有状态码都表示成功; </span></span><br><span class="line"><span class="comment">// -xhr.responseText:响应字符串数据</span></span><br><span class="line"><span class="comment">// -事件：onreadystatechange:判断xhr的状态/http的状态</span></span><br><span class="line"><span class="built_in">console</span>.log(xhr);</span><br></pre></td></tr></table></figure></li><li><p>jsonp：跨域技术</p></li><li><p>fetch：高级封装</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;前后端分离技术&lt;/li&gt;
&lt;li&gt;PHP与MySQL数据库&lt;/li&gt;
&lt;li&gt;Ajax–异步&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;http协议补充-请求携带数据&quot;&gt;&lt;a href=&quot;#http协议补充-请求携带数据&quot; class=&quot;headerlink&quot; title=&quot;http协议补充 - 请求携带数据&quot;&gt;&lt;/a&gt;http协议补充 - 请求携带数据&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;GET : GET 请求的数据全部放在url路径之中 ; &lt;/li&gt;
&lt;li&gt;路径后方可以拼接php数据 &lt;ul&gt;
&lt;li&gt;url?key=value&amp;amp;key2=value&lt;/li&gt;
&lt;li&gt;使用GET请求携带的数据, 以key为键，以value为值 以组的形式进行发送; &lt;/li&gt;
&lt;li&gt;每条数据都以key=value形式进行分割; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;我们通常把传递数据的key值称之为 &lt;code&gt;字段&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://ankang.icu/tags/Server/"/>
    
      <category term="Ajax" scheme="http://ankang.icu/tags/Ajax/"/>
    
  </entry>
  
  <entry>
    <title>服务器端与PHP</title>
    <link href="http://ankang.icu/2021/04/12/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E4%B8%8EPHP/"/>
    <id>http://ankang.icu/2021/04/12/服务器端与PHP/</id>
    <published>2021-04-12T12:18:30.000Z</published>
    <updated>2021-04-13T00:04:17.525Z</updated>
    
    <content type="html"><![CDATA[<ol><li>服务器基础</li><li>HTTP协议</li><li>PHP</li></ol><a id="more"></a><h2 id="服务器："><a href="#服务器：" class="headerlink" title="服务器："></a>服务器：</h2><ul><li><p>局域网IP、公网IP、环回IP</p></li><li><h5 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h5></li><li><p>ipconfig</p></li></ul><h2 id="本机应用服务器软件："><a href="#本机应用服务器软件：" class="headerlink" title="本机应用服务器软件："></a>本机应用服务器软件：</h2><ul><li><p>根目录：服务器可以共享的文件–WWW</p></li><li><p>WWW之下的文件，子集目录</p></li></ul><h2 id="HTTP协议："><a href="#HTTP协议：" class="headerlink" title="HTTP协议："></a>HTTP协议：</h2><ul><li><p>可靠协议：发出去的数据，与接收方一致</p></li><li><p>TCP：一人掉线全员等待</p></li><li><p>HTTP：可靠协议</p></li></ul><h3 id="三次握手：主要是确保链接的可靠性"><a href="#三次握手：主要是确保链接的可靠性" class="headerlink" title="三次握手：主要是确保链接的可靠性"></a>三次握手：主要是确保链接的可靠性</h3><ul><li>服务器可以接收请求</li><li>客户端可以发送请求</li><li>客户端可以接收响应</li></ul><h3 id="发请求、接响应"><a href="#发请求、接响应" class="headerlink" title="发请求、接响应"></a>发请求、接响应</h3><ul><li><p>B=&gt;S: request</p></li><li><p>S=&gt;B: response</p></li></ul><h3 id="四次挥手断开连接：验证数据的完整性"><a href="#四次挥手断开连接：验证数据的完整性" class="headerlink" title="四次挥手断开连接：验证数据的完整性"></a>四次挥手断开连接：验证数据的完整性</h3><h3 id="四次挥手验证结束之后，本次交互断开连接"><a href="#四次挥手验证结束之后，本次交互断开连接" class="headerlink" title="四次挥手验证结束之后，本次交互断开连接"></a>四次挥手验证结束之后，本次交互断开连接</h3><ul><li>HTTPS: HTTP协议的加密版本!</li></ul><h3 id="HTTP报文："><a href="#HTTP报文：" class="headerlink" title="HTTP报文："></a>HTTP报文：</h3><ul><li><h5 id="请求报文（request）"><a href="#请求报文（request）" class="headerlink" title="请求报文（request）"></a>请求报文（request）</h5></li><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET / HTTP/<span class="number">1.1</span></span><br><span class="line"> </span><br><span class="line">     Host: www.baidu.com</span><br><span class="line">     Connection: keep-alive</span><br><span class="line">     Cache-Control: max-age=<span class="number">0</span></span><br><span class="line">     sec-ch-ua: <span class="string">"Chromium"</span>;v=<span class="string">"88"</span>, <span class="string">"Google Chrome"</span>;v=<span class="string">"88"</span>, <span class="string">";Not A Brand"</span>;v=<span class="string">"99"</span></span><br></pre></td></tr></table></figure></li><li><p>请求行：</p><ul><li>请求行（GET|POST|PUT|PATCH|DELETE）</li><li>请求头（配置信息）</li><li>请求空行</li><li>请求体（请求携带的数据）只在POST情况下携带请求体</li></ul></li><li><h5 id="响应报文（response）"><a href="#响应报文（response）" class="headerlink" title="响应报文（response）"></a>响应报文（response）</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Bdpagetype: <span class="number">2</span></span><br><span class="line">Bdqid: <span class="number">0xb9f8696600063622</span></span><br><span class="line">Cache-Control: private</span><br><span class="line">Connection: keep-alive</span><br></pre></td></tr></table></figure></li><li><p>响应行（协议版本，协议状态码）</p></li><li><p>响应头（响应内容描述）</p></li><li><p>响应体（preview和response中）</p></li></ul><h3 id="端口号："><a href="#端口号：" class="headerlink" title="端口号："></a>端口号：</h3><ul><li>计算机的端口 : 允许访问(请求)进入计算机的路径;  65535 个端口; </li><li>http协议：80</li><li>https协议：443</li></ul><h2 id="请求携带数据："><a href="#请求携带数据：" class="headerlink" title="请求携带数据："></a>请求携带数据：</h2><ul><li><p>方式：</p></li><li><blockquote><p>url?key=value&amp;key2=value</p></blockquote></li><li><p>使用GET请求携带的数据, 以key为健，以value为值 以组的形式进行发送; </p></li><li><p>每条数据都以key=value形式进行分割; </p></li><li><h5 id="我们通常把传递数据的key值称之为-字段"><a href="#我们通常把传递数据的key值称之为-字段" class="headerlink" title="我们通常把传递数据的key值称之为 字段;"></a>我们通常把传递数据的key值称之为 <code>字段</code>;</h5></li></ul><h3 id="同步实现优先于异步实现："><a href="#同步实现优先于异步实现：" class="headerlink" title="同步实现优先于异步实现："></a>同步实现优先于异步实现：</h3><h2 id="PHP："><a href="#PHP：" class="headerlink" title="PHP："></a>PHP：</h2><ul><li><p>使用 <code>&lt;?php</code>标识着php代码的开始</p></li><li><p><code>echo</code>关键字==翻译：回声===输出字符串</p></li></ul><h3 id="字符串输出："><a href="#字符串输出：" class="headerlink" title="字符串输出："></a>字符串输出：</h3><ul><li><p><code>‘’</code>纯字符串；</p></li><li><p><code>“”</code>：拼接字符串，可以在字符串里面直接写变量；</p></li><li><p>php中没有对象，只有数组</p></li><li><p><code>.</code>在运算在php中代表字符串拼接</p></li></ul><h3 id="数组："><a href="#数组：" class="headerlink" title="数组："></a>数组：</h3><ul><li><h5 id="数字数组：下标-数值"><a href="#数字数组：下标-数值" class="headerlink" title="数字数组：下标==数值"></a>数字数组：下标==数值</h5></li><li><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$arr=<span class="keyword">array</span>();</span><br><span class="line"><span class="keyword">echo</span> $arr;</span><br><span class="line"><span class="keyword">echo</span> var_dump($arr);</span><br><span class="line"><span class="keyword">echo</span> $arr[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">echo</span> count($arr);</span><br><span class="line"><span class="keyword">echo</span> sizeof($arr);</span><br></pre></td></tr></table></figure></li><li><p>echo输出数组会默认调用转换字符串的方法把自己转换为字符串</p></li><li><p>使用 <code>var_dump()</code>查看内部的内容和结构</p></li><li><p>数组中使用 <code>[]</code>取出内容</p></li><li><p>获取数组的长度===<code>sizeof/count</code></p></li><li><p>php一旦被请求，返回结果默认拼接字符串，一次性返回；</p></li><li><h5 id="关联数组：key-value"><a href="#关联数组：key-value" class="headerlink" title="关联数组：key==value"></a>关联数组：key==value</h5></li><li><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$assoc_array = <span class="keyword">array</span>( <span class="string">"key1"</span> =&gt; <span class="string">"value1"</span> );</span><br><span class="line"><span class="keyword">echo</span> var_dump($assoc_array);</span><br></pre></td></tr></table></figure></li><li><p>数据关联使用<code>=&gt;</code>进行；</p></li></ul><h3 id="前后端交互标准结构：JSON"><a href="#前后端交互标准结构：JSON" class="headerlink" title="前后端交互标准结构：JSON"></a>前后端交互标准结构：JSON</h3><ul><li>php将数组转换为符合json格式</li><li><code>json_encode()</code></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;服务器基础&lt;/li&gt;
&lt;li&gt;HTTP协议&lt;/li&gt;
&lt;li&gt;PHP&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://ankang.icu/tags/Server/"/>
    
  </entry>
  
  <entry>
    <title>Symbol/Set/Map与模块化开发</title>
    <link href="http://ankang.icu/2021/04/02/Symbol-Set-Map%E4%B8%8E%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91/"/>
    <id>http://ankang.icu/2021/04/02/Symbol-Set-Map与模块化开发/</id>
    <published>2021-04-02T11:13:35.000Z</published>
    <updated>2021-04-12T11:22:49.798Z</updated>
    
    <content type="html"><![CDATA[<ul><li>字符串方法</li><li>Symbol</li><li>Set/Map</li><li>模块化开发</li></ul><a id="more"></a><h3 id="字符串方法和Symbol"><a href="#字符串方法和Symbol" class="headerlink" title="字符串方法和Symbol:"></a>字符串方法和Symbol:</h3><ul><li><p><code>startsWith(&quot;&quot;,)</code>从某个下标开始起始字符是不是某个字符</p></li><li><p><code>endsWith(&quot;&quot;,)</code>判断某个下标前一个是不是这个字符</p></li><li><p><code>&quot;&quot;.reprat(3)</code>重复几次</p></li><li><p>判断字符串的长度不足某个值时，在前面补某个字符。</p></li><li><p><code>&quot;&quot;.padStart(3,&quot;&quot;);</code></p></li><li><p><code>&quot;&quot;.padEnd(3,&quot;&quot;);</code></p></li><li><p><code>${变量名}</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> str=<span class="string">`aa<span class="subst">$&#123;i&#125;</span>aa`</span>;</span><br><span class="line"><span class="keyword">var</span> sre=<span class="string">"aa"</span>+i+<span class="string">"aa"</span>;</span><br></pre></td></tr></table></figure></li><li><h5 id="Symbol-值唯一，不可能重复。"><a href="#Symbol-值唯一，不可能重复。" class="headerlink" title="Symbol:值唯一，不可能重复。"></a>Symbol:值唯一，不可能重复。</h5></li><li><p>用在对象中；对象的Key，只能是字符串或者Symbol类型，如果不是就隐式转换为字符串</p></li><li><h6 id="Symbol-做为Key时，无法通过for-in-遍历；"><a href="#Symbol-做为Key时，无法通过for-in-遍历；" class="headerlink" title="Symbol 做为Key时，无法通过for in 遍历；"></a>Symbol 做为Key时，无法通过for in 遍历；</h6></li></ul><h3 id="Set和Map：："><a href="#Set和Map：：" class="headerlink" title="Set和Map：："></a>Set和Map：：</h3><ul><li><p><strong>数组</strong>：有序的列表，从0开始，可以根据指定的下标找到元素，以及其上下关系的元素，是一种紧密结构，长度会随着添加或者删除而改变；</p><ul><li>作用：主要存储相关类似的数据，便于遍历全部处理。</li><li>缺点：在插入和删除时消耗性能；排序也非常消耗性能。元素没有宿主，元素本身是无关联性的，数组的元素可以重复。查找速度很慢。</li><li>迭代器</li></ul></li><li><p><strong>对象</strong>：无序列表，键值对形式存储。可以通过键找到值，查找速度非常快。</p><ul><li>用来存储关联性数据；因为无序，插入和删除速度非常快。</li><li>缺点：key只能是字符串或者Symbol，无法使用对象或者其他内容作为键；对象是没有长度，无法确定对象是否遍历到最后一个，只能通过键名找到值，无法直接使用值找到键名，需要遍历查找才可以。</li><li>键找值：速度快；值找键：速度慢。</li><li>无迭代器</li></ul></li><li><h5 id="Set"><a href="#Set" class="headerlink" title="Set:"></a>Set:</h5></li><li><p>无序列表，集或者集合，为了解决添加删除查找速度快，将数据以无序的方式存储，自带值去重，无重复列表，有一个维护性的元素数量</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s=<span class="keyword">new</span> <span class="built_in">Set</span>();<span class="comment">//创建</span></span><br><span class="line"><span class="comment">//添加</span></span><br><span class="line">s.add(<span class="number">1</span>);</span><br><span class="line">s.add(<span class="number">2</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line">s.delete(<span class="number">2</span>);<span class="comment">//删除</span></span><br><span class="line">s.clear();<span class="comment">//清空</span></span><br><span class="line"><span class="built_in">console</span>.log(s.size)<span class="comment">//长度</span></span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">2</span>));<span class="comment">//判断有没有某个元素：返回值--false、true</span></span><br></pre></td></tr></table></figure></li><li><p>Set去重：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr=<span class="built_in">Array</span>.form(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li><li><p>具有迭代器的类型使用for…of遍历</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> value <span class="keyword">of</span> s)&#123;</span><br><span class="line">    <span class="built_in">console</span>,log(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//集合是没有下标的</span></span><br></pre></td></tr></table></figure></li><li><p><code>forEach</code>：遍历</p></li><li><p><code>WeakSet</code>：弱引用</p></li><li><p>存在WeakSet中的引用对象被设为null，垃圾回收车会自动从列表中清除。不能被遍历</p></li><li><h5 id="Map-类型"><a href="#Map-类型" class="headerlink" title="Map:类型"></a>Map:类型</h5></li><li><p>作用：针对Object做了优化，模仿HashMap，</p></li><li><p>key可以是任何类型，有size–长度。</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> map=<span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">"name"</span>,<span class="string">"值"</span>);<span class="comment">//添加数据</span></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">map.set(arr,<span class="number">10</span>);</span><br></pre></td></tr></table></figure></li><li><p>判断有没有某个键</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.get(<span class="string">"name"</span>);<span class="comment">//有返回value，没有返回undefined</span></span><br><span class="line">map.has(arr);<span class="comment">//返回true和false。</span></span><br></pre></td></tr></table></figure></li><li><p>删除：按照键名</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.delete(arr);</span><br></pre></td></tr></table></figure></li><li><p>清空</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.clear();</span><br></pre></td></tr></table></figure></li><li><p>遍历键、值</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">map.keys();</span><br><span class="line">map.value();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">of</span> map.keys())&#123;</span><br><span class="line"><span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> [key,value] <span class="keyword">of</span> map)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(key,value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//迭代器遍历</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> [key,value] <span class="keyword">of</span> map.enties())&#123;</span><br><span class="line"><span class="built_in">console</span>.log(key,value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//forEach 完成遍历</span></span><br><span class="line">map.forEach(<span class="function">(<span class="params">value,key</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key,value);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>WeakMap：弱引用，键必须是对象</p></li><li><p>不能遍历</p></li></ul><h3 id="生成器函数："><a href="#生成器函数：" class="headerlink" title="生成器函数："></a>生成器函数：</h3><h3 id="类："><a href="#类：" class="headerlink" title="类："></a>类：</h3><ul><li>类–基类–超类–父类–子类–实例化对象–继承</li><li>类别就是实例对象的抽象体现</li><li>实例对象就是类别的具象表现</li><li>子类的父类叫做<strong>超类</strong></li><li>static定义的属性是类自身的属性和方法，实例化的对象不会拥有</li><li>继承：extends</li><li>继承的类需要执行其超类的构造函数—在子类的构造函数中添加 <code>super();</code></li><li>Object 是所有类别的基类</li></ul><h3 id="模块化开发："><a href="#模块化开发：" class="headerlink" title="模块化开发："></a>模块化开发：</h3><ul><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Ball <span class="keyword">from</span> <span class="string">"./js/Ball.js"</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> &#123;A,fn1 <span class="keyword">as</span> fn2,obj&#125; <span class="keyword">from</span> <span class="string">"./js/Other.js"</span>;<span class="comment">// fn1 as fn2 起别名</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>构造函数名统一叫 <code>constructor</code></p></li><li><p>new 类  就是执行该类的constructor函数</p></li><li><p>静态属性、方法中禁止使用this，使用类名调用。</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> o=&#123;<span class="attr">c</span>:<span class="number">1</span>,...obj&#125;;<span class="comment">//实现复制obj，浅复制</span></span><br><span class="line">obj,a=<span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(o);</span><br></pre></td></tr></table></figure></li></ul><h5 id="多选框和单选框"><a href="#多选框和单选框" class="headerlink" title="多选框和单选框"></a>多选框和单选框</h5>]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;字符串方法&lt;/li&gt;
&lt;li&gt;Symbol&lt;/li&gt;
&lt;li&gt;Set/Map&lt;/li&gt;
&lt;li&gt;模块化开发&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="ES6" scheme="http://ankang.icu/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>正则表达式与ES6</title>
    <link href="http://ankang.icu/2021/04/01/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8EES6/"/>
    <id>http://ankang.icu/2021/04/01/正则表达式与ES6/</id>
    <published>2021-04-01T15:06:42.000Z</published>
    <updated>2021-04-01T15:08:37.125Z</updated>
    
    <content type="html"><![CDATA[<ol><li>正则表达式–断言、群组</li><li>ES6–严格模式、箭头函数、解构赋值</li></ol><a id="more"></a><h3 id="正则表达式："><a href="#正则表达式：" class="headerlink" title="正则表达式："></a>正则表达式：</h3><ul><li><p>起始符 <code>^</code></p></li><li><p>结束符 <code>$</code></p></li><li><p>或者 <code>|</code></p></li><li><h5 id="断言："><a href="#断言：" class="headerlink" title="断言："></a>断言：</h5></li><li><p><code>a(?=b)</code>前端断言：判断后面字符是b的a位置</p></li><li><p><code>a(?!b)</code>前端非：</p></li><li><p><code>(?&lt;=d)a</code>后端断言：</p></li><li><p><code>(?&lt;!d)a</code>后端非：</p></li><li><h5 id="群组："><a href="#群组：" class="headerlink" title="群组："></a>群组：</h5></li><li><p>当match不使用g修饰符时，可以将<code>()</code>中内容单独找出来</p></li><li><p><code>$1</code>就是第一个（）内的内容===群组内容</p></li><li><h5 id="中文匹配："><a href="#中文匹配：" class="headerlink" title="中文匹配："></a>中文匹配：</h5></li><li><p>[\4ue00-\u9fd5]{2,4}</p></li></ul><h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6:"></a>ES6:</h3><ul><li><p>严格模式 ：</p></li><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.<span class="tag">&lt;<span class="name">script</span> <span class="attr">typr</span>=<span class="string">"module"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">2."use strict";</span><br></pre></td></tr></table></figure></li><li><p>变量必须定义后使用</p></li><li><p>不能出现相同参数名</p></li><li><p>不能使用with语句</p></li><li><p>不能对只读属性赋值</p></li><li><p>不能使用八进制</p></li><li><p>不能删除不可删除的属性</p></li><li><p><code>eval</code>不会在外层作用域引入变量-可以将字符串映射为一个JS对象、变量、属性、函数等</p></li><li><p>不使用参数列表的两个属性</p></li><li><p>不能在顶层使用this</p></li><li><p><code>const</code>/ <code>let</code>：</p></li><li><p><code>let</code>定义全局变量不会放在window属性下</p></li><li><p><code>let</code>定义后不能重复定义，避免变量覆盖</p></li><li><p><code>let</code>定义的变量只能在块语句中生效</p></li><li><h5 id="箭头函数："><a href="#箭头函数：" class="headerlink" title="箭头函数："></a>箭头函数：</h5></li><li><p>是一个匿名函数</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn=<span class="function"><span class="params">a</span>=&gt;</span>a+<span class="number">1</span>;</span><br><span class="line"><span class="comment">//箭头函数中如果参数仅有一个，可以省略（），如果没有参数或者有一个以上都必须加（）；</span></span><br><span class="line"><span class="comment">//在箭头函数中，如果语句块仅有一句，并且这句话使用return返回内容，我们可以去除（）和return关键字。</span></span><br><span class="line"><span class="keyword">var</span> arr1=arr.filter(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;<span class="number">3</span>);</span><br></pre></td></tr></table></figure></li><li><p>箭头函数中的this将会是箭头函数外上下文环境的this指向</p></li><li><p>箭头函数最大特征是改变this的指向为当前箭头函数上下文的this。</p></li><li><p>所有回调函数中this都会被重新指向为window，严格模式除外===&gt;undefined。</p></li><li><h5 id="解构赋值："><a href="#解构赋值：" class="headerlink" title="解构赋值："></a>解构赋值：</h5></li><li><p>变量交换：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> b=<span class="number">4</span>;</span><br><span class="line">[b,a]=[a,b];<span class="comment">//a=4,b=3;</span></span><br><span class="line"><span class="comment">//数组解构按照顺序,可以设置默认值</span></span><br></pre></td></tr></table></figure></li><li><p>对象解构：</p></li><li><p>对象解构是按照key解构；</p></li><li><p>对象中方法解构出来后，成为全局函数，所以对象方法中一旦使用了this，不能解构，解构出来，this的指向发生了改变。===&gt;window。</p></li><li><p>对象解构中如果key名称同名，则可以使用<code>：</code>起别名的方式另外命名。</p></li><li><p>普通函数中传参，有默认值的参数一般写在必填后</p></li><li><p>普通函数中实参的顺序必须和形参的顺序一致。</p></li><li><p>参数赋值时如果整体设置默认值，在调用时如果赋值，默认值将会整体覆盖，不启用。单独设置默认值不会被覆盖。</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;正则表达式–断言、群组&lt;/li&gt;
&lt;li&gt;ES6–严格模式、箭头函数、解构赋值&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="ES6" scheme="http://ankang.icu/tags/ES6/"/>
    
      <category term="正则表达式" scheme="http://ankang.icu/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>键盘/输入事件与正则表达式概念</title>
    <link href="http://ankang.icu/2021/03/31/%E9%94%AE%E7%9B%98-%E8%BE%93%E5%85%A5%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%A6%82%E5%BF%B5/"/>
    <id>http://ankang.icu/2021/03/31/键盘-输入事件与正则表达式概念/</id>
    <published>2021-03-31T15:03:36.000Z</published>
    <updated>2021-04-01T15:05:41.335Z</updated>
    
    <content type="html"><![CDATA[<ol><li>KeyboardEvent事件</li><li>InputEvent事件</li><li>滚轮事件</li><li>正则表达式–重复匹配和非贪婪匹配</li></ol><a id="more"></a><h3 id="KeyboardEvent"><a href="#KeyboardEvent" class="headerlink" title="KeyboardEvent:"></a>KeyboardEvent:</h3><ul><li><p>UI组件、document、window都可以侦听此事件</p></li><li><p>keydown：</p></li><li><p>keydoup：</p></li><li><p>keydpress：</p></li><li><h5 id="移动小人："><a href="#移动小人：" class="headerlink" title="移动小人："></a>移动小人：</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//打算用setInterval</span></span><br><span class="line"><span class="comment">//e.repeat是否一直按键状态</span></span><br><span class="line"><span class="comment">//利用数组结构解决连续的状态码判断问题</span></span><br><span class="line"><span class="comment">//减少定时器的数量解决问题</span></span><br></pre></td></tr></table></figure></li><li><h5 id="防抖：某一段时间内只执行一次"><a href="#防抖：某一段时间内只执行一次" class="headerlink" title="防抖：某一段时间内只执行一次"></a>防抖：某一段时间内只执行一次</h5></li><li><p>keyCode/which：键码</p></li><li><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">键盘按键：leftuprightdown:37-40</span><br></pre></td></tr></table></figure></li></ul><h3 id="InputEvent："><a href="#InputEvent：" class="headerlink" title="InputEvent："></a>InputEvent：</h3><ul><li><p>针对表单元素单独做失焦和聚焦处理</p><ul><li>focus：聚焦</li><li>blur：失焦</li></ul></li><li><p>针对表单所有元素的失焦和聚焦</p><ul><li>focusin</li><li>focusout</li></ul></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//e.relatedTarget</span></span><br><span class="line"><span class="comment">//上一个或者下一个目标对象，失焦就是下一个聚焦对象，聚焦就是上一个失焦对象</span></span><br></pre></td></tr></table></figure></li><li><p>超链接和所有表单元素都是可以做聚焦与失焦事件</p></li><li><h5 id="input事件："><a href="#input事件：" class="headerlink" title="input事件："></a>input事件：</h5><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">isComposing:<span class="literal">true</span><span class="comment">//判断是否使用输入法</span></span><br><span class="line">data a<span class="comment">//当前输入的数据</span></span><br><span class="line">inputType:<span class="string">"insertText"</span><span class="comment">//当前输入状态</span></span><br></pre></td></tr></table></figure></li></ul></li><li><h5 id="节流：间隔时间执行"><a href="#节流：间隔时间执行" class="headerlink" title="节流：间隔时间执行"></a>节流：间隔时间执行</h5></li></ul><h3 id="滚轮事件："><a href="#滚轮事件：" class="headerlink" title="滚轮事件："></a>滚轮事件：</h3><ul><li><p>兼容事件、继承鼠标事件</p></li><li><p>mousewheel：火狐不支持</p></li><li><p>DOMMouseScroll：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deltaX:</span><br><span class="line">deltaY:<span class="number">-100</span>;向上</span><br><span class="line">wheelDelatY:<span class="number">100</span>;向上</span><br></pre></td></tr></table></figure></li><li><p>兼容写法：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"mousewheel"</span>,mouseHandler);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"DOMMouseScroll"</span>,mouseHandler);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mouseHandler</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> detail;</span><br><span class="line">    <span class="keyword">if</span>(e.type===<span class="string">"mousewheel"</span>)&#123;</span><br><span class="line">        detail=e.deltaY&lt;<span class="number">0</span> ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(e.type===<span class="string">"DOMMouseScroll"</span>)&#123;</span><br><span class="line">        detail=e.detail&lt;<span class="number">0</span> ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//console.log(e);</span></span><br><span class="line">    <span class="comment">//console.log(detail);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h5 id="自定义滚动条："><a href="#自定义滚动条：" class="headerlink" title="自定义滚动条："></a>自定义滚动条：</h5></li></ul><h3 id="正则表达式："><a href="#正则表达式：" class="headerlink" title="正则表达式："></a>正则表达式：</h3><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/^(?=\D+\d)(?=.*[a-z])(?=/</span>[A-Z])[<span class="number">0</span><span class="number">-9</span>a-zA-Z]&#123;<span class="number">8</span>,<span class="number">16</span>&#125;$/</span><br></pre></td></tr></table></figure></li><li><p>字面量定义</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/a/i</span>;</span><br></pre></td></tr></table></figure></li><li><p>构造函数定义</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"正则内容"</span>,<span class="string">"修饰符"</span>);</span><br><span class="line"><span class="keyword">var</span> reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"a"</span>,<span class="string">"i"</span>);</span><br></pre></td></tr></table></figure></li><li><p>正则内容：目的–匹配字符串中的内容，或者查找字符串中的内容</p></li><li><p>修饰符：</p><ul><li>i：不区分大小写</li><li>m：多行</li><li>g：全局查找</li></ul></li><li><p>正则对象的方法：</p><ul><li><code>reg.test();</code>//判断字符串是否满足正则条件</li><li><code>reg.exec();</code>//根据正则在字符串中查找到对应的元素，并且挡在数组中，有下标index属性和群组groups属性，一般<code>g</code>无效</li></ul></li><li><p>字符串对象可以使用正则方法：</p><ul><li><p>str.replace();//替换</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line">str.replace(<span class="regexp">/e/g</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    arr.push(b);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">"18617805540"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.replace(<span class="regexp">/^(\d&#123;3&#125;)\d&#123;4&#125;(\d&#123;4&#125;)$/</span>,<span class="string">"$1****$2"</span>))</span><br></pre></td></tr></table></figure></li><li><p>str.search();//查找，返回下标，对 <code>g</code>无效</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.search(<span class="regexp">/a(?=b)/g</span>)<span class="comment">//查找a后面为b的位置。</span></span><br></pre></td></tr></table></figure></li><li><p>str.split();//切割</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str.split(<span class="regexp">/[bcd]/</span>)<span class="comment">//可以多个字符切割</span></span><br><span class="line"><span class="string">"config.jpg"</span>.split(<span class="regexp">/(?=\.)/</span>)<span class="comment">//["config", ".jpg"]</span></span><br></pre></td></tr></table></figure></li><li><p>str.match();//匹配，所有匹配正则表达式的内容放在一个数组中。</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">"2[bc]3[de]"</span>;</span><br><span class="line"><span class="keyword">var</span> arr=str.match(<span class="regexp">/(\d)\[(\w+)\]/</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li></ul></li><li><p><code>.</code>通配符：代表任意一个字符,在 <code>[]</code>中会自动转为字符 <code>.</code>，使用 <code>\.</code>也是字符 <code>.</code></p></li><li><p><code>\</code>转移字符：转译为字符串。本身在字符串中就有转义的含义</p></li><li><p><code>[]</code>可能代表一个字符的列表，可以使用里面的任意一个字符</p><p>只能表示一个字符</p></li><li><p><code>[^abcd]</code>在正则中括号内的第一个字符使用^开始，表示后续的内容取反</p><p><code>[a^c]</code>当^不是中括号中的第一位则表示字符^。</p></li><li><p><code>\w</code>===[a-zA-Z0-9_]</p></li><li><p><code>\W</code>===<code>[^a-zA-Z0-9_]</code></p></li><li><blockquote><p>\d===[0-9]</p><p>\D===[ ^0-9]</p><p>\s===空白字符  空格</p><p>\S===非空白字符//字符与字符之间有空字符</p></blockquote></li></ul><h3 id="重复匹配和非贪婪匹配："><a href="#重复匹配和非贪婪匹配：" class="headerlink" title="重复匹配和非贪婪匹配："></a>重复匹配和非贪婪匹配：</h3><ul><li><code>{}</code>表示重复次数：<ul><li><code>{0，1}</code>=== <code>?</code></li><li><code>{1,}</code>=== <code>+</code></li><li><code>{0,}</code>=== <code>*</code></li></ul></li><li><code>()\1</code> ：括号内最大重复次数  分类取出重复的最大次数</li><li>非贪婪匹配：前后会有其他内容约束范围，<ul><li><code>.*?</code></li><li><code>\b</code>单词分隔符</li><li><code>\B</code>非单词分隔符</li></ul></li></ul><h3 id="网易地址截取"><a href="#网易地址截取" class="headerlink" title="网易地址截取"></a>网易地址截取</h3>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;KeyboardEvent事件&lt;/li&gt;
&lt;li&gt;InputEvent事件&lt;/li&gt;
&lt;li&gt;滚轮事件&lt;/li&gt;
&lt;li&gt;正则表达式–重复匹配和非贪婪匹配&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="事件" scheme="http://ankang.icu/tags/%E4%BA%8B%E4%BB%B6/"/>
    
      <category term="正则表达式" scheme="http://ankang.icu/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>系统事件概念</title>
    <link href="http://ankang.icu/2021/03/30/%E7%B3%BB%E7%BB%9F%E4%BA%8B%E4%BB%B6%E6%A6%82%E5%BF%B5/"/>
    <id>http://ankang.icu/2021/03/30/系统事件概念/</id>
    <published>2021-03-30T14:35:55.000Z</published>
    <updated>2021-03-30T14:38:22.268Z</updated>
    
    <content type="html"><![CDATA[<ol><li>系统事件-Event对象、MouseEvent对象</li><li>图片预加载</li><li>拖拽</li></ol><a id="more"></a><h3 id="事件的区别："><a href="#事件的区别：" class="headerlink" title="事件的区别："></a>事件的区别：</h3><ul><li><p>事件写法的不同：</p><ul><li><p>在标签中写只能添加一个onclick事件函数，早期的事件会自动设置一个event全局变量，用于事件的处理，同步执行时不会丢失，异步执行延迟会消除。无冒泡。</p></li><li><p>DOM对象添加方法，不再使用全局变量e，只能执行一个函数。有冒泡功能，没有捕获功能。不支持自定义事件这样写大多数都会写出匿名函数。大多数的回调地狱都是在事件函数中发生的，原因是匿名函数的使用。</p><blockquote><p>e=e || window.event;</p><p>bn.onclick=null;//清除事件</p></blockquote></li><li><p>侦听事件类型：一般这种事件不写匿名函数，写命名函数，适合于函数式编程。这种事件包括捕获。冒泡阶段和阻止，还包括自带事件event对象，设置是否执行一次，支持自定义事件，IE8及以下不支持。onclick等所有系统事件===&gt;去掉on。可以执行多个函数</p><blockquote><p>bn.removeEventListener(“事件”,函数名)//删除事件</p></blockquote></li><li><p>IE11以下支持，IE11及以上不支持，没有捕获阶段触发</p><blockquote><p>bn.attachEvent(“on事件”,函数名);</p><p>bn.detachEvent(“on事件”,函数名);</p></blockquote></li></ul></li></ul><h3 id="Event对象："><a href="#Event对象：" class="headerlink" title="Event对象："></a>Event对象：</h3><ul><li><p>表单应用事件：</p></li><li><p>submit和reset</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">from</span>=<span class="built_in">document</span>.querySelector(<span class="string">"form"</span>);</span><br><span class="line">form.addEventListener(<span class="string">"submit"</span>,submitHanlder);</span><br><span class="line">form.addEventListener(<span class="string">"reset"</span>,submitHanlder);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">submitHanlder</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//阻止表单跳转 submit</span></span><br><span class="line">    <span class="comment">//阻止表单重置 reset</span></span><br><span class="line">    e.preventDefault()  阻止默认事件行为</span><br><span class="line">    e.returnValue=<span class="literal">false</span>  返回值=<span class="literal">false</span><span class="comment">//兼容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>select：针对input或者textArea的</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//input.selecttionStart//输入框中的选中开始位置下标</span></span><br><span class="line"><span class="comment">//input.selecttionEnd//输入框中的选中结束位置下标</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> input=<span class="built_in">document</span>.querySelector(<span class="string">"input"</span>);</span><br><span class="line">input.addEventListener(<span class="string">"select"</span>,selectHandler);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectHandler</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">    <span class="comment">// console.log(input.selectionStart,input.selectionEnd)</span></span><br><span class="line">    input.value=input.value.slice(<span class="number">0</span>,input.selectionStart)+</span><br><span class="line">    input.value.slice(input.selectionStart,input.selectionEnd).toUpperCase()</span><br><span class="line">    +input.value.slice(input.selectionEnd)</span><br><span class="line">    <span class="comment">//将文本输入框中的选中单词变成大写。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>change：可以针对表单元素,也可以针对form表单</p></li><li><p>失去焦点时，原value的值发生改变时，触发</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//针对表单时，判断整个表单的修改</span></span><br><span class="line"><span class="keyword">var</span> form=<span class="built_in">document</span>.querySelector(<span class="string">"form"</span>);</span><br><span class="line">form.addEventListener(<span class="string">"change"</span>,changeHandler);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeHandler</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.target,e.target.value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>resize  更改浏览器中文档大小 –只针对window侦听</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//em就是父容器的字体大小</span></span><br><span class="line"><span class="comment">//rem相对于根标签的字体大小（html）</span></span><br><span class="line">resizeHandler();</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"resize"</span>,resizeHandler);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resizeHandler</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(screen.width)</span></span><br><span class="line">    <span class="built_in">document</span>.documentElement.style.fontSize=<span class="built_in">document</span>.body.clientWidth/screen.width*<span class="number">100</span>+<span class="string">"px"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>图片的加载需要时间，无法立即获得宽度 <code>offsetWidth</code></p></li><li><p>预加载 <code>load</code>加载完成，滞后性极强</p></li><li><p>图片加载不适用load事件，所以：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img=<span class="keyword">new</span> Image();</span><br><span class="line">img.addEventListener();</span><br><span class="line">img.src=<span class="string">"地址"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> 函数(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> img1=img.cloneNode(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(img1);</span><br><span class="line"><span class="built_in">console</span>.log(img.width);<span class="comment">//原图的宽高</span></span><br><span class="line">    img1.style.width=<span class="string">"600px"</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(img.width);</span><br><span class="line">    <span class="comment">//克隆一个图片副本，修改宽高放进容器中，原始图宽高不变。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h5 id="图片预加载的几种方式比较及改善"><a href="#图片预加载的几种方式比较及改善" class="headerlink" title="图片预加载的几种方式比较及改善"></a><em>图片预加载</em>的几种方式比较及改善</h5></li><li><p>scroll：滚动条，默认自动阻止冒泡，通过事件属性传递值。</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">div1.addEventListener(<span class="string">"scroll"</span>,scrollHandler);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>,scrollHandler1);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">    <span class="comment">//var evt=new Event("scroll");</span></span><br><span class="line">    <span class="comment">//evt.scrollTop=this.scrollTop;</span></span><br><span class="line">    <span class="comment">//window.dispatchEvent(evt);//自建事件在触发子元素的滚动事件时抛发，来达到传递数据的效果</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scrollHandler1</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.documentElement.scrollTop=e.scrollTop;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>error：加载失败时，触发错误事件。</p></li></ul><h3 id="MouseEvent对象："><a href="#MouseEvent对象：" class="headerlink" title="MouseEvent对象："></a>MouseEvent对象：</h3><ul><li><p>按住键盘辅助键点击</p><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ctrlKey</span><br><span class="line">altKey</span><br><span class="line">shiftKey</span><br><span class="line">metaKey</span><br></pre></td></tr></table></figure></li></ul></li><li><p>判断鼠标按键</p><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button<span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">buttons<span class="number">1</span> <span class="number">4</span> <span class="number">2</span></span><br><span class="line">which<span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>坐标</p><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">x:</span><br><span class="line">y:</span><br><span class="line">clientX:</span><br><span class="line">clientY:</span><br><span class="line"><span class="comment">//鼠标相对视口距离</span></span><br><span class="line">pageX:</span><br><span class="line">pageY:</span><br><span class="line"><span class="comment">//相对页面顶端位置/绝对坐标位置</span></span><br><span class="line">layerX:</span><br><span class="line">layerY:</span><br><span class="line"><span class="comment">//相对e.target左上角的坐标，如果目标元素定位了，和offset值相同；如果没有定位，offset不变，layer相对父元素的左上角位置。</span></span><br><span class="line">offsetX:</span><br><span class="line">offsetY:</span><br><span class="line"><span class="comment">//相对e.target左上角的坐标</span></span><br><span class="line">movementX:</span><br><span class="line">movementY:</span><br><span class="line"><span class="comment">//用于Mousemove事件，相对于上次移动距离。==汽车图片</span></span><br><span class="line">screenX:</span><br><span class="line">screenY:</span><br><span class="line"><span class="comment">//绝对于屏幕左上角</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>鼠标事件：</p><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">click</span><br><span class="line">dbclick</span><br><span class="line">mousedown</span><br><span class="line">mouseup</span><br><span class="line">mousemove</span><br><span class="line"></span><br><span class="line">mouseover</span><br><span class="line">mousenter</span><br><span class="line">mouseout</span><br><span class="line">mouseleave</span><br><span class="line"><span class="comment">//mousenter和mouseleave不会因为进入子元素而抛发事件</span></span><br><span class="line"><span class="comment">//mouseover和mouseout会因为子元素而抛发事件</span></span><br><span class="line">contextmenu</span><br><span class="line"><span class="comment">//如果是contextmenu，会呼出右键菜单</span></span><br><span class="line"><span class="comment">//e.preventDefault()阻止呼出菜单</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="拖拽"><a href="#拖拽" class="headerlink" title="拖拽"></a>拖拽</h3>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;系统事件-Event对象、MouseEvent对象&lt;/li&gt;
&lt;li&gt;图片预加载&lt;/li&gt;
&lt;li&gt;拖拽&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="事件" scheme="http://ankang.icu/tags/%E4%BA%8B%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>DOM对象属性与事件基础</title>
    <link href="http://ankang.icu/2021/03/29/DOM%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%9F%BA%E7%A1%80/"/>
    <id>http://ankang.icu/2021/03/29/DOM对象属性与事件基础/</id>
    <published>2021-03-29T14:44:39.000Z</published>
    <updated>2021-03-29T14:47:52.387Z</updated>
    
    <content type="html"><![CDATA[<ol><li>DOM对象常用属性</li><li>观察者模式、中介者模式</li><li>事件委托</li></ol><a id="more"></a><h3 id="DOM对象常用属性："><a href="#DOM对象常用属性：" class="headerlink" title="DOM对象常用属性："></a>DOM对象常用属性：</h3><ul><li><p>获取和设置都会引起浏览器重绘</p></li><li><p>必须已经放在页面中渲染的DOM对象元素</p><ul><li>放入body页面完成渲染之前无法获取</li></ul></li><li><p>宽高  位置</p></li><li><p>鼠标位置通过X、Y设置</p></li><li><p>DOM对象位置通过left、top设置</p></li><li><p>document对象</p></li><li><p>body对象</p></li><li><p>clientWidth/Height  客户宽高 边框以内的所有宽高之和-滚动条宽高===包含padding，不包含边框；</p></li><li><p>offseWidth/Height  偏移宽高  DOM元素在页面中占位的宽高===包含边框</p></li><li><p>scrollWidth/Height  滚动区域宽高</p></li><li><p>body标签document.body的滚动区域宽度会根据设置内容的宽度改变</p></li><li><p>html标签document.documentElement的滚动区域宽度不变</p></li><li><p>clientLeft/Top 客户位置  边线宽高</p><ul><li>border</li></ul></li><li><p>offsetLeft/Top 偏移位置  位置的左上点  元素左上角的相对位置</p><ul><li>设置定位时，相对父元素</li></ul></li><li><p>scrollLeft/Top 滚动条位置</p><ul><li>可读可写</li><li>body标签和html标签的滚动条在初始化第一次渲染时，页面中的滚动条不可以设置，当第一次渲染完毕，交互时有效（早期不支持）；body标签（最新版不支持）。</li></ul></li><li><h5 id="案例：回到顶部的滚动条过渡效果"><a href="#案例：回到顶部的滚动条过渡效果" class="headerlink" title="案例：回到顶部的滚动条过渡效果"></a>案例：回到顶部的滚动条过渡效果</h5></li></ul><h3 id="事件："><a href="#事件：" class="headerlink" title="事件："></a>事件：</h3><p>事件驱动型语言</p><p>注入式语言</p><p>耦合/解耦</p><ul><li><p>Event</p><ul><li>侦听接收</li><li>抛发</li></ul></li><li><p>系统事件</p></li><li><h5 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h5><ul><li><p>如果需要接收和抛发事件，必须要有对应的对象，接收和抛发的对象；对象必须是同一个，而且必须是继承EventTarget类型的对象===所有的DOM对象都是可以接收和抛发事件的</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(事件类型,事件执行函数，是否捕获阶段触发/事件配置对象);</span><br><span class="line"><span class="keyword">var</span> evt=<span class="keyword">new</span> Event(事件名);</span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(evt);<span class="comment">//抛发事件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> 函数(<span class="params">e</span>)</span>&#123;&#125;;</span><br></pre></td></tr></table></figure></li><li><p>接收和抛发对象必须一致，侦听事件类型必须和抛发事件类型一致，侦听在前，抛发在后。</p></li><li><p>侦听事件的函数中，有且仅有一个参数，就是抛发的事件对象。</p></li></ul></li><li><h5 id="解耦案例："><a href="#解耦案例：" class="headerlink" title="解耦案例："></a>解耦案例：</h5></li><li><h5 id="观察者模式、中介者模式"><a href="#观察者模式、中介者模式" class="headerlink" title="观察者模式、中介者模式"></a>观察者模式、中介者模式</h5></li><li><p>创建事件目标对象：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = <span class="keyword">new</span> EventTarget();</span><br><span class="line">t.addEventListener(事件名,函数);</span><br></pre></td></tr></table></figure></li><li><p>事件是针对事件目标对象的，来抛发内容；但并不是直接抛发过去，尤其是针对DOM元素，根据树形结构来传递事件。</p></li><li><h5 id="事件过程：捕获阶段（从外向内）、目标阶段、冒泡阶段（从内向外）"><a href="#事件过程：捕获阶段（从外向内）、目标阶段、冒泡阶段（从内向外）" class="headerlink" title="事件过程：捕获阶段（从外向内）、目标阶段、冒泡阶段（从内向外）"></a>事件过程：捕获阶段（从外向内）、目标阶段、冒泡阶段（从内向外）</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(事件类型,事件执行函数，是否捕获阶段触发/事件配置对象);</span><br></pre></td></tr></table></figure></li><li><p>事件类型(必须是字符串)：</p></li><li><p>系统事件类型，分为多个类型：Event、MouseEvent</p></li><li><p>事件执行函数：有且仅有一个参数，不能通过事件直接传入参数内容，因为<strong>事件执行函数是一个事件处理后回调的函数，所以只能传入函数名</strong>；<strong>如果传参就需要执行才可以</strong>，但是回调函数必须是函数名，因此不能在这里传参。</p></li><li><p>事件执行函数是一个回调执行的，在事件处理中并没有处理这个回调执行的结果===事件执行函数不能使return返回数据</p></li><li><p>事件执行函数里面的this发生了改变。</p></li><li><p>事件是否在捕获阶段被触发，默认是false===冒泡阶段触发。===改变事件触发顺序</p></li><li><p><code>e.stopPropagation();</code>事件对象中的方法===阻止传递。IE8及以下：<code>e.cancelBubble=ture;</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> evt=<span class="keyword">new</span> MouseEvent(<span class="string">"click"</span>,&#123;<span class="attr">bubbles</span>:<span class="literal">true</span>,<span class="attr">clientX</span>:<span class="number">100</span>,<span class="attr">clientY</span>:<span class="number">100</span>&#125;);</span><br><span class="line">div3.dispatchEvent(evt);</span><br><span class="line"><span class="comment">// 这样&#123;bubbles:true&#125;就会让抛发的事件冒泡</span></span><br></pre></td></tr></table></figure></li><li><p>事件配置对象：<code>{once:true}</code>//事件只触发一次</p></li><li><p>侦听的事件目标对象和被点击到的目标对象并不一定相同。</p></li><li><h5 id="在事件触发函数中"><a href="#在事件触发函数中" class="headerlink" title="在事件触发函数中"></a>在事件触发函数中</h5><ul><li><code>e.target</code>和 <code>e.srcElement</code>事件触发的目标对象</li><li><code>e.currentTarget</code>事件侦听的对象</li></ul></li><li><h5 id="事件委托：将子元素或者后代元素的事件委托给父元素，减少事件侦听的增加，防止内存泄漏。"><a href="#事件委托：将子元素或者后代元素的事件委托给父元素，减少事件侦听的增加，防止内存泄漏。" class="headerlink" title="事件委托：将子元素或者后代元素的事件委托给父元素，减少事件侦听的增加，防止内存泄漏。"></a>事件委托：将子元素或者后代元素的事件委托给父元素，减少事件侦听的增加，防止内存泄漏。</h5></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;DOM对象常用属性&lt;/li&gt;
&lt;li&gt;观察者模式、中介者模式&lt;/li&gt;
&lt;li&gt;事件委托&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="事件" scheme="http://ankang.icu/tags/%E4%BA%8B%E4%BB%B6/"/>
    
      <category term="设计模式" scheme="http://ankang.icu/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>DOM属性相关</title>
    <link href="http://ankang.icu/2021/03/27/DOM%E5%B1%9E%E6%80%A7%E7%9B%B8%E5%85%B3/"/>
    <id>http://ankang.icu/2021/03/27/DOM属性相关/</id>
    <published>2021-03-27T08:34:56.000Z</published>
    <updated>2021-03-29T08:37:21.417Z</updated>
    
    <content type="html"><![CDATA[<ol><li>DOM的对象属性</li><li>标签属性</li><li>CSS样式获取、写入</li><li>纯函数概念</li></ol><a id="more"></a><h3 id="DOM属性"><a href="#DOM属性" class="headerlink" title="DOM属性"></a>DOM属性</h3><ul><li><p>标签属性：标签上表明的属性</p></li><li><p>标签属性分为<strong>默认标签属性</strong>和<strong>自定义标签属性</strong></p></li><li><p>自定义属性的命名和值必须使用小写和横线连接</p></li><li><p>DOM的对象属性也也分为默认属性和自定义属性</p></li><li><p>DOM的对象属性和标签属性 不一定相同 也不一定可以互相获取</p></li><li><p>DOM中的自定义属性和标签自定义属性是完全不能互相调用</p></li><li><p>有些标签默认属性可以通过DOM属性调用</p><ul><li><blockquote><p>title    id    src    href    alt    placeholder    type    value等</p></blockquote></li></ul></li><li><h5 id="class标签属性DOM属性调用时className"><a href="#class标签属性DOM属性调用时className" class="headerlink" title="class标签属性DOM属性调用时className"></a>class标签属性DOM属性调用时<code>className</code></h5></li><li><h5 id="先有标签，才可以渲染对象调用，也可以通过DOM对象设置标签的属性来达到重新渲染"><a href="#先有标签，才可以渲染对象调用，也可以通过DOM对象设置标签的属性来达到重新渲染" class="headerlink" title="先有标签，才可以渲染对象调用，也可以通过DOM对象设置标签的属性来达到重新渲染"></a>先有标签，才可以渲染对象调用，也可以通过DOM对象设置标签的属性来达到重新渲染</h5></li><li><h5 id="通过标签属性的修改添加才会引起重绘，增加对象属性不会引起重绘"><a href="#通过标签属性的修改添加才会引起重绘，增加对象属性不会引起重绘" class="headerlink" title="通过标签属性的修改添加才会引起重绘，增加对象属性不会引起重绘"></a>通过标签属性的修改添加才会引起重绘，增加对象属性不会引起重绘</h5><ul><li><blockquote><p>checked是标签属性checked的对象映射属性</p></blockquote></li></ul></li><li><p>DOM对象.setAttribute(“标签属性名”,”属性值”)//设置标签属性</p></li><li><p>DOM对象.removeAttribute(“标签属性名”,”属性值”)//删除标签属性</p></li><li><p>DOM对象.getAttribute(“标签属性名”,”属性值”)//根据标签属性名获取值</p><ul><li>标签属性可以直接看到，标签对象属性无法直接看到</li></ul></li><li><p>通过<code>div.style</code>添加标签的行内样式</p></li><li><p>style属性只能给DOM对象设置行内样式</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">div.style.width=<span class="string">"50px"</span>;</span><br><span class="line">div.style.height=<span class="string">"50px"</span>;</span><br><span class="line">div.style.backgroundColor=<span class="string">"red"</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div);</span><br></pre></td></tr></table></figure></li><li><p><strong>对象属性样式写入</strong></p></li><li><p>设置样式时，只能设置非伪类、伪元素的DOM样式</p></li><li><p>设置样式时，如果样式属性名多个词汇组成 background-color，设置时去掉-并且把后面的字母变成大写=backgroundColor</p></li><li><p><code>div.style=&quot;width:50px;height:50px;background-color:red&quot;;</code></p></li><li><p><strong>直接行内样式写入</strong></p></li><li><p><code>div.style=&quot;width:50px;height:50px;background-color:red&quot;;</code></p></li><li><p><strong>获取样式</strong>：</p></li><li><p><code>console.log(div1.getComputedStyle(div1).width)</code></p></li><li><p>可以获取行内样式也可以获取CSS样式</p></li><li><p>有兼容问题，IE8及以下没有</p></li><li><p>IE8及以下使用：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(div1.currentStyle.left);</span><br><span class="line"><span class="built_in">console</span>.log(div1.currentStyle.width);</span><br></pre></td></tr></table></figure></li><li><p><strong>CSS样式</strong></p></li><li><p>获取：</p></li><li><p><code>var styleSheet=document.styleSheets[document.styleSheets.length-1];</code></p></li><li><p>添加样式标签：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//IE都支持</span></span><br><span class="line">styleSheet.addRule(<span class="string">".div1"</span>,<span class="string">"width:50px;height:50px;background-color:red"</span>,<span class="number">0</span>);</span><br><span class="line">styleSheet.addRule(<span class="string">".div1:hover"</span>,<span class="string">"background-color:blue"</span>,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//IE9以上支持</span></span><br><span class="line">styleSheet.insertRule(<span class="string">".div1 &#123;width:50px;height:50px;background-color:red&#125;"</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure></li></ul><h3 id="Object-assign-用于对象的合并"><a href="#Object-assign-用于对象的合并" class="headerlink" title="Object.assign()用于对象的合并"></a>Object.assign()用于对象的合并</h3><h3 id="纯函数："><a href="#纯函数：" class="headerlink" title="纯函数："></a>纯函数：</h3><p>没有调用全局的变量或者其他函数，独立自主的某一功能的函数，这种函数一般回通过参数传入需要处理的内容，完成后返回===抽象：不是解决某一个或者某一件具体的事情。</p>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;DOM的对象属性&lt;/li&gt;
&lt;li&gt;标签属性&lt;/li&gt;
&lt;li&gt;CSS样式获取、写入&lt;/li&gt;
&lt;li&gt;纯函数概念&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>数据驱动显示-表格的增删</title>
    <link href="http://ankang.icu/2021/03/26/%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E6%98%BE%E7%A4%BA-%E8%A1%A8%E6%A0%BC%E7%9A%84%E5%A2%9E%E5%88%A0/"/>
    <id>http://ankang.icu/2021/03/26/数据驱动显示-表格的增删/</id>
    <published>2021-03-26T08:28:46.000Z</published>
    <updated>2021-03-29T08:33:38.991Z</updated>
    
    <content type="html"><![CDATA[<p>通过数据变化引起显示相应改变</p><a id="more"></a><h3 id="数据驱动显示："><a href="#数据驱动显示：" class="headerlink" title="数据驱动显示："></a>数据驱动显示：</h3><ul><li><p>HTML部分</p></li><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>用户名:<span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>年<span class="symbol">&amp;emsp;</span>龄:<span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"age"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>性<span class="symbol">&amp;emsp;</span>别:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"男"</span> <span class="attr">checked</span> /&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"女"</span> /&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>女<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>电<span class="symbol">&amp;emsp;</span>话:<span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"tel"</span> <span class="attr">name</span>=<span class="string">"tel"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"all"</span> /&gt;</span>全选<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>用户名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>电话<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>CSS部分</p></li><li><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">    <span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">td</span>,<span class="selector-tag">th</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>JavaScript部分</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//TODO数据驱动显示</span></span><br><span class="line"><span class="keyword">var</span> div1,table,inputs,btn,head,all;</span><br><span class="line"><span class="keyword">var</span> list=[];</span><br><span class="line">init();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    div1=<span class="built_in">document</span>.querySelector(<span class="string">"#div"</span>)</span><br><span class="line">    inputs=<span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelector(<span class="string">"#div1"</span>).querySelectorAll(<span class="string">"input"</span>));</span><br><span class="line">    table=<span class="built_in">document</span>.querySelector(<span class="string">"table"</span>);</span><br><span class="line">    head=table.firstElementChild;</span><br><span class="line">    btn=<span class="built_in">document</span>.querySelector(<span class="string">"button"</span>);</span><br><span class="line">    btn.addEventListener(<span class="string">"click"</span>,addData);</span><br><span class="line">    all=<span class="built_in">document</span>.querySelector(<span class="string">"#all"</span>);</span><br><span class="line">    all.addEventListener(<span class="string">"click"</span>,allData);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">allData</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>===all)&#123;</span><br><span class="line">        list.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">            item.checked=all.checked;</span><br><span class="line">            <span class="comment">// console.log(this);</span></span><br><span class="line">            <span class="comment">// item.checked=this.checked;</span></span><br><span class="line">        &#125;)</span><br><span class="line">        renderTable();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data.checked=<span class="keyword">this</span>.checked;</span><br><span class="line">        all.checked=list.every(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> item.checked;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addData</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj=inputs.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">value,item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(item.name===<span class="string">"sex"</span> &amp;&amp; item.checked) value[item.name]=item.value</span><br><span class="line">        <span class="comment">// else value[item.name]=item.value;</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (item.name !== <span class="string">"sex"</span>) value[item.name] = item.value;</span><br><span class="line">        <span class="keyword">if</span>(item.name!==<span class="string">"sex"</span>) item.value=<span class="string">""</span>;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,&#123;<span class="attr">checked</span>:<span class="literal">false</span>&#125;)</span><br><span class="line">    obj[<span class="string">"del"</span>]=<span class="literal">false</span>;</span><br><span class="line">    list.push(obj);</span><br><span class="line">    renderTable();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderTable</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    table.innerHTML=<span class="string">""</span>;</span><br><span class="line">    table.appendChild(head);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;list.length;i++)&#123;</span><br><span class="line">        createTr(list[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    all.checked=list.every(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item.checked;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createTr</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tr=<span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> data)&#123;</span><br><span class="line">        <span class="keyword">var</span> td=<span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">        <span class="keyword">switch</span>(prop)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"checked"</span>:</span><br><span class="line">                <span class="keyword">var</span> ck=<span class="built_in">document</span>.createElement(<span class="string">"input"</span>);</span><br><span class="line">                ck.type=<span class="string">"checkbox"</span>;</span><br><span class="line">                td.appendChild(ck);</span><br><span class="line">                ck.data=data;</span><br><span class="line">                ck.checked=data.checked;</span><br><span class="line">                ck.addEventListener(<span class="string">"click"</span>,allData)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"del"</span>:</span><br><span class="line">                <span class="keyword">var</span> del=<span class="built_in">document</span>.createElement(<span class="string">"button"</span>);</span><br><span class="line">                del.textContent=<span class="string">"删除"</span>;</span><br><span class="line">                td.appendChild(del);</span><br><span class="line">                del.data=data;</span><br><span class="line">                del.addEventListener(<span class="string">"click"</span>,delData);</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                td.textContent=data[prop];</span><br><span class="line">        &#125;</span><br><span class="line">        tr.appendChild(td);</span><br><span class="line">    &#125;</span><br><span class="line">    table.appendChild(tr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delData</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> data=<span class="keyword">this</span>.data;</span><br><span class="line">    list=list.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item!==data;</span><br><span class="line">    &#125;)</span><br><span class="line">    renderTable()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;通过数据变化引起显示相应改变&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>DOM对象相关</title>
    <link href="http://ankang.icu/2021/03/26/DOM%E5%AF%B9%E8%B1%A1%E7%9B%B8%E5%85%B3/"/>
    <id>http://ankang.icu/2021/03/26/DOM对象相关/</id>
    <published>2021-03-26T08:28:01.000Z</published>
    <updated>2021-03-29T08:31:54.069Z</updated>
    
    <content type="html"><![CDATA[<ol><li>DOM节点的遍历</li><li>DOM中元素与节点</li><li>元素的删除与替换</li></ol><a id="more"></a><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM:"></a>DOM:</h3><ul><li><p>节点遍历和增删查改</p></li><li><p>document.body//body</p></li><li><p>document.title//title</p></li><li><p>document.head//head</p></li><li><p>document.documentElement//html标签</p></li><li><p>document//是整个文档</p></li><li><p>document.URL//location.href</p></li><li><p>document.domain//域名</p></li><li><p>document.styleSheets//CSS的style列表</p></li><li><p>document.body.parentElement//父元素</p></li><li><p>document.body.parentNode//父节点</p><ul><li>任何元素的父元素和父节点是相同的，除了文本和注释类型</li></ul></li><li><p>div.children//子元素 HTML标签</p><ul><li>元素就是HTML标签，不包含注释、文本、换行、文档。</li></ul></li><li><p>div.childNodes//子节点</p></li><li><p>div.firstChild//第一个子节点</p></li><li><p>div.firstElementChild//第一个子元素</p></li><li><p>div.lastChild//最后一个子节点</p></li><li><p>div.lastElementChild//最后一个子元素</p></li><li><p>div.previousSibling向上一个兄弟节点</p></li><li><p>div.previousElementSibling向上一个兄弟元素</p></li><li><p>div.nextSibling向下一个兄弟节点</p></li><li><p>div.nextElementSibling向下一个兄弟元素</p></li><li><blockquote><p>HTMLDivElement–&gt;HTMLElement–&gt;Element–&gt;Node–&gt;EventTarget–&gt;Object</p></blockquote></li><li><p>判断类型</p><ul><li>标签的构造函数</li><li>标签的nodeName</li></ul></li><li><p>在Node中分支—文档、元素类型</p></li><li><p>创建容器</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elem= <span class="built_in">document</span>.createElement(<span class="string">"标签名"</span>)</span><br><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.creatElement(<span class="string">"div"</span>);</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.appendChild(div)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> elem=<span class="built_in">document</span>.creatDocumentFragment();<span class="comment">//创建文档碎片容器</span></span><br></pre></td></tr></table></figure></li><li><p>图片的创建</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span><br><span class="line"><span class="keyword">var</span> img=<span class="built_in">document</span>.createElement(<span class="string">"img"</span>);</span><br></pre></td></tr></table></figure></li><li><p>元素插入的位置：</p></li><li><p>将某个元素添加再父元素里面的尾部</p><ul><li><blockquote><p>父元素.appendChild(子元素)</p></blockquote></li></ul></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertPrev</span>(<span class="params">newElem,targetElem</span>)</span>&#123;</span><br><span class="line">    targetElem.parentElement.insertBefore(newElem,targetElem);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertNext</span>(<span class="params">newElem,targetElem</span>)</span>&#123;</span><br><span class="line">    targetElem.parentElement.insertBefore(newElem,targetElem.nextSibling);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">warp</span>(<span class="params">newElem,targetElem</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> parent=targetElem.parentElement;</span><br><span class="line">    <span class="keyword">var</span> next=targetElem.nextSibling;</span><br><span class="line">    newElem.appendChild(targetElem);</span><br><span class="line">    parent.insertBefore(newElem,next);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>元素的复制</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//新元素=原元素.cloneNode(false) 可以复制原标签的所有属性和样式，不包含内容和后代元素</span></span><br><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">div1.style.color=<span class="string">"red"</span>;</span><br><span class="line">div1.innerHTML=<span class="string">"abc"</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div2=div1.cloneNode(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div5=div3.cloneNode(<span class="literal">true</span>);<span class="comment">//深复制，可以将内容和后代一起复制</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div5);</span><br><span class="line"><span class="comment">// 所有具有id的标签都需要重新定义id</span></span><br><span class="line">node.cloneNode(<span class="literal">false</span>) <span class="comment">//浅复制</span></span><br><span class="line">node.cloneNode(<span class="literal">true</span>) <span class="comment">//深复制</span></span><br></pre></td></tr></table></figure></li><li><p>删除</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div1.remove();<span class="comment">//自己删除自己</span></span><br><span class="line"><span class="built_in">document</span>.body.removeChild(div1);<span class="comment">//通过父元素删除子元素</span></span><br></pre></td></tr></table></figure></li><li><p>替换</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父元素.replaceChild(新元素,要替换元素)</span></span><br><span class="line"><span class="built_in">document</span>.body.replaceChild(div2,div1);</span><br></pre></td></tr></table></figure></li><li><p><code>textContent</code>===获取设置元素的文本节点</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div1.textContent<span class="comment">//所有文本节点及其后代的所有文本节点</span></span><br><span class="line">div1.textContent=<span class="string">"abc"</span>;<span class="comment">//将div1中的所有元素替换为这个abc的文本节点</span></span><br></pre></td></tr></table></figure></li><li><p>文本节点：txtNode</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txtNode=<span class="built_in">document</span>.createTextNode(<span class="string">"文本内容"</span>);</span><br></pre></td></tr></table></figure></li><li><p>案例：</p><ul><li>数据驱动显示</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;DOM节点的遍历&lt;/li&gt;
&lt;li&gt;DOM中元素与节点&lt;/li&gt;
&lt;li&gt;元素的删除与替换&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>history与hash实现历史记录</title>
    <link href="http://ankang.icu/2021/03/25/history%E4%B8%8Ehash%E5%AE%9E%E7%8E%B0%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95/"/>
    <id>http://ankang.icu/2021/03/25/history与hash实现历史记录/</id>
    <published>2021-03-25T12:18:20.000Z</published>
    <updated>2021-03-27T12:25:18.687Z</updated>
    
    <content type="html"><![CDATA[<ol><li>历史记录的回退与记录</li><li>hash与history</li></ol><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> list = &#123;</span></span><br><span class="line">        vegetables: [</span><br><span class="line"><span class="javascript">            <span class="string">"大白菜"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"娃娃菜"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"油麦菜"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"菠菜"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"莲藕"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"春笋"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"韭菜"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"胡萝卜"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"大葱"</span>,</span></span><br><span class="line">        ],</span><br><span class="line">        fruit: [</span><br><span class="line"><span class="javascript">            <span class="string">"苹果"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"西瓜"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"柚子"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"梨"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"香蕉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"樱桃"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"草莓"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"榴莲"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"桃子"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"杏"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"橘子"</span>,</span></span><br><span class="line">        ],</span><br><span class="line">        oil: [</span><br><span class="line"><span class="javascript">            <span class="string">"大米"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"小米"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"黄米"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"黄豆"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"绿豆"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"红豆"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"精面"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"莜面"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"花生油"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"大豆油"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"橄榄油"</span>,</span></span><br><span class="line">        ],</span><br><span class="line">        meat: [</span><br><span class="line"><span class="javascript">            <span class="string">"牛肉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"羊肉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"鸡肉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"猪肉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"鸭肉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"鱼肉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"驴肉"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"鸡蛋"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="string">"鸭蛋"</span>,</span></span><br><span class="line">        ],</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="history历史记录："><a href="#history历史记录：" class="headerlink" title="history历史记录："></a>history历史记录：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"menu"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"vegetables"</span>&gt;</span>蔬菜<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"fruit"</span>&gt;</span>瓜果<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"oil"</span>&gt;</span>粮油<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"meat"</span>&gt;</span>禽肉<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prev,lis,div1;</span><br><span class="line">init();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    div1=<span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line">    lis=<span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>));</span><br><span class="line">    lis.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        item.addEventListener(<span class="string">"click"</span>,clickLiTab);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">window</span>.onpopstate=popChange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">popChange</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!e.state) <span class="keyword">return</span>;</span><br><span class="line">    changeTab(<span class="built_in">document</span>.querySelector(<span class="string">"#"</span>+location.hash.slice(<span class="number">1</span>)));</span><br><span class="line">    render(e.state);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clickLiTab</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    changeTab(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">var</span> data=list[<span class="keyword">this</span>.id];</span><br><span class="line">    render(data);</span><br><span class="line">    history.pushState(data,<span class="keyword">this</span>.id,<span class="string">"#"</span>+<span class="keyword">this</span>.id);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeTab</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(prev) prev.style.backgroundColor=<span class="string">"skyblue"</span>;</span><br><span class="line">    prev=elem;</span><br><span class="line">    prev.style.backgroundColor=<span class="string">"darkblue"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    div1.innerHTML=<span class="string">"&lt;ul&gt;"</span>+data.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">value,item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value+=<span class="string">"&lt;li&gt;"</span>+item+<span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">    &#125;,<span class="string">""</span>)+<span class="string">"&lt;/ul&gt;"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="hash历史记录："><a href="#hash历史记录：" class="headerlink" title="hash历史记录："></a>hash历史记录：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"menu"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"vegetables"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#vegetables"</span>&gt;</span>蔬菜<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"fruit"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#fruit"</span>&gt;</span>瓜果<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"oil"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#oil"</span>&gt;</span>粮油<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"meat"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#meat"</span>&gt;</span>禽肉<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1,prev;</span><br><span class="line">init();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    div1=<span class="built_in">document</span>.querySelector(<span class="string">"#div1"</span>);</span><br><span class="line">    <span class="built_in">window</span>.onhashchange=hashChange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hashChange</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> id=location.hash.slice(<span class="number">1</span>);</span><br><span class="line">    changeTab(id);</span><br><span class="line">    <span class="keyword">var</span> data=list[id];</span><br><span class="line">    render(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeTab</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(prev) prev.style.backgroundColor=<span class="string">"skyblue"</span>;</span><br><span class="line">    prev=<span class="built_in">document</span>.querySelector(<span class="string">"#"</span>+elem);</span><br><span class="line">    prev.style.backgroundColor=<span class="string">"darkblue"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    div1.innerHTML=<span class="string">"&lt;ul&gt;"</span>+data.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">value,item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> value+=<span class="string">"&lt;li&gt;"</span>+item+<span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">    &#125;,<span class="string">""</span>)+<span class="string">"&lt;/ul&gt;"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;历史记录的回退与记录&lt;/li&gt;
&lt;li&gt;hash与history&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="历史记录" scheme="http://ankang.icu/tags/%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>BOM与DOM</title>
    <link href="http://ankang.icu/2021/03/25/BOM%E4%B8%8EDOM/"/>
    <id>http://ankang.icu/2021/03/25/BOM与DOM/</id>
    <published>2021-03-25T12:11:21.000Z</published>
    <updated>2021-03-27T12:17:04.723Z</updated>
    
    <content type="html"><![CDATA[<ol><li>BOM对象与DOM对象</li><li>hash与history的区别</li></ol><a id="more"></a><h3 id="Data"><a href="#Data" class="headerlink" title="Data:"></a>Data:</h3><ul><li><p><code>var date=new Date();</code></p></li><li><p>打印时，由对象转换为字符串</p></li><li><p><code>date.getFullYear()</code></p></li><li><p><code>date.getMonth()</code>获取月份，0-11，大于11，进位，年增加1；</p></li><li><p><code>date.getDate()</code>日期</p></li><li><p><code>date.getDay()</code>星期</p></li><li><p><code>date.getHours()</code></p></li><li><p><code>date.getMinutes()</code></p></li><li><p><code>date.getSeconds()</code></p></li><li><p><code>date.getMilliseconds()</code>毫秒</p></li><li><p><code>date.getUTCHours()</code>国际时间（格林尼治时间）</p></li><li><p><code>date.getTime()</code>从1970.1.1.0到现在的毫秒数</p><ul><li><p>时间戳</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"地址?time"</span>+<span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br></pre></td></tr></table></figure></li><li><p>计算时差</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">timeStart: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> timeList.push(<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()) - <span class="number">1</span>;</span><br><span class="line">&#125;,</span><br><span class="line">timeEnd: <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (timeList[id] === <span class="literal">undefined</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - timeList[id];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeStart</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> timeList.push(<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()) - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeEnd</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - timeList[id];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> id1 = Utils.timeStart();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100000000</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> id2 = Utils.timeStart();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100000000</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Utils.timeEnd(id1))</span><br><span class="line"><span class="built_in">console</span>.log(Utils.timeEnd(id2))</span><br></pre></td></tr></table></figure></li><li><p>倒计时</p><ul><li><p>时钟案例</p></li><li><p>秒表案例</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line">date.setMinutes(date.getMinutes()+<span class="number">5</span>);</span><br><span class="line">setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> s=<span class="built_in">parseInt</span>((date.getTime()-<span class="keyword">new</span> <span class="built_in">Date</span>().getTime())/<span class="number">1000</span>);</span><br><span class="line">    div1.innerHTML=<span class="built_in">parseInt</span>(s/<span class="number">60</span>)+<span class="string">":"</span>+s%<span class="number">60</span>;</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p><code>var date=new *Date*();</code></p></li><li><p><code>date.setFullYear()</code>设置年</p></li><li><p><code>date.setMonth()</code>//0-11 如果大于11就会进位 年增加</p></li><li><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var date=new Date();</span><br><span class="line">var date1=new Date(date);</span><br><span class="line">var date1=new Date(date.getTime());</span><br><span class="line">var date1=new Date(2022,06,05,15,30,20);</span><br><span class="line">console.log(date1);</span><br></pre></td></tr></table></figure></li></ul><h3 id="DOM："><a href="#DOM：" class="headerlink" title="DOM："></a>DOM：</h3><ul><li><p>DOM的节点</p><ul><li>标签就是节点，文本、注释、文档、属性</li><li>document.body.childNodes//所有节点</li></ul></li><li><p>节点获取</p><ul><li><p>ID值：一个元素一旦赋值ID默认存在window对象下</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br></pre></td></tr></table></figure></li><li><p>标签名===   <code>HTMLCollection</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divs=<span class="built_in">document</span>.getElementsByTagName(<span class="string">"div"</span>);</span><br></pre></td></tr></table></figure></li><li><p>标签class获取元素列表===<code>HTMLCollection</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divs=<span class="built_in">document</span>.getElementsByClassName(<span class="string">"divs"</span>);</span><br></pre></td></tr></table></figure></li><li><p>input标签的name值获取NodeList列表</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inputs=<span class="built_in">document</span>.getElementsByName(<span class="string">"sex"</span>);</span><br></pre></td></tr></table></figure></li><li><p>document.querySelector()//根据选择器获取单个标签</p></li><li><p>document.querySelectorAll()//根据选择器获取多个标签的列表NodeList</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">"#div1"</span>);</span><br><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">".divs"</span>);</span><br><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">"div&gt;div"</span>);</span><br><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">"div.div1"</span>);<span class="comment">//div下子元素.div1</span></span><br><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">"div .div1"</span>);<span class="comment">//div下所有.div元素</span></span><br><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">"[type!=text]"</span>);</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="BOM："><a href="#BOM：" class="headerlink" title="BOM："></a>BOM：</h3><ul><li><p>window对象</p><ul><li><code>open()</code>弹出窗口</li><li><code>close()</code></li><li><code>innerWidth/innerHeight</code>窗口中文档的宽高//<strong>只读</strong></li><li><code>outerWidth/outerHeight</code>窗口的宽高//<strong>只读</strong></li><li><code>screenX/screenY</code>窗口左上角坐标</li><li><code>screenTop/screenLeft</code>窗口左上角坐标</li></ul></li><li><h4 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h4><ul><li><p><code>reload()</code>重载，刷新当前页面</p></li><li><p><code>location.href=&quot;&quot;</code>跳转网页</p><ul><li>href是一个可读可写的属性</li><li>中文使用URI编码格式</li></ul></li><li><p><code>location.assign=&quot;&quot;</code>跳转网页</p><ul><li>assign是个方法，只能执行</li></ul></li><li><p><code>location.replace=&quot;&quot;</code>替换网页，没有历史记录</p></li><li><h4 id="location-hash"><a href="#location-hash" class="headerlink" title="location.hash"></a>location.hash</h4><ul><li>地址#号后内容</li><li>锚点：<ul><li>标签的ID</li><li>超链接a标签的name</li></ul></li><li>区分当前访问的内容，同一个页面，hash不一样，可能不一样</li></ul></li><li><p>location.search</p><ul><li>？号后的内容，添加会刷新页面</li></ul></li><li><p>location.host//返回当前 URL 的主机名称和端口号</p></li><li><p>location.pathname//返回当前路径</p></li><li><p>location.port//返回当前 URL 的端口号</p></li><li><p>location.protocol//协议</p></li><li><p>location.origin//返回URL的协议,主机名和端口号</p></li></ul></li><li><h4 id="hash与history"><a href="#hash与history" class="headerlink" title="hash与history"></a>hash与history</h4><ul><li><p>hash可以创建历史记录，并且在地址栏中增加#内容</p></li><li><p>超链接设置name跳转</p></li><li><p><strong><em>hash增加时不刷新页面</em></strong></p></li><li><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"div1"</span>&gt;&lt;/div&gt;</span><br><span class="line">var div1=document.getElementById(<span class="string">"div1"</span>);</span><br><span class="line">    div1.innerHTML=Date.now();</span><br><span class="line">    document.onclick=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        location.href=location.href+<span class="string">"#abc"</span>;</span><br><span class="line">        // location.href=location.href+<span class="string">"?time="</span>+Date.now();</span><br><span class="line">        // location.href=<span class="string">"./a.html"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>history.back();回退历史记录</p></li><li><p>history.forward();向前历史</p></li><li><p>history.go();</p><ul><li>-1：回退</li><li>1：前进</li><li>0：刷新页面</li></ul></li><li><h5 id="history-pushState-插入状态"><a href="#history-pushState-插入状态" class="headerlink" title="history.pushState();插入状态"></a>history.pushState();插入状态</h5></li><li><h5 id="history-replaceState-替换状态"><a href="#history-replaceState-替换状态" class="headerlink" title="history.replaceState();替换状态"></a>history.replaceState();替换状态</h5></li></ul></li><li><h4 id="window-onpopstate事件：当浏览器产生前进回退时被激活，history查看历史记录state数据变化"><a href="#window-onpopstate事件：当浏览器产生前进回退时被激活，history查看历史记录state数据变化" class="headerlink" title="window.onpopstate事件：当浏览器产生前进回退时被激活，history查看历史记录state数据变化"></a>window.onpopstate事件：当浏览器产生前进回退时被激活，<strong><em>history</em></strong>查看历史记录state数据变化</h4></li><li><h4 id="hash用-window-onhashchange事件：表示hash发生变化"><a href="#hash用-window-onhashchange事件：表示hash发生变化" class="headerlink" title="hash用 window.onhashchange事件：表示hash发生变化"></a>hash用 window.onhashchange事件：表示hash发生变化</h4></li><li><p>screen对象</p><ul><li><code>screen.availWidth/availHeight</code>//屏幕中不包含任务栏的宽高</li><li><code>screen.width/height</code>//全屏幕的宽高</li></ul></li><li><p>navigator对象</p><ul><li><code>navigator.userAgent</code>//返回由客户机发送服务器的user-agent 头部的值</li><li><code>navigator.appName</code>//返回浏览器的名称</li><li><code>navigator.appVersion</code>//返回浏览器的平台和版本信息</li><li><code>navigator.appCodeName</code>//返回浏览器的代码名</li><li><code>navigator.platform</code>//操作系统平台</li><li><code>navigator.getCurrentPosition(fn,fn)</code>获取经纬度位置</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;BOM对象与DOM对象&lt;/li&gt;
&lt;li&gt;hash与history的区别&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>排序及内建对象的应用</title>
    <link href="http://ankang.icu/2021/03/24/%E6%8E%92%E5%BA%8F%E5%8F%8A%E5%86%85%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BA%94%E7%94%A8/"/>
    <id>http://ankang.icu/2021/03/24/排序及内建对象的应用/</id>
    <published>2021-03-24T08:32:34.000Z</published>
    <updated>2021-03-27T08:38:10.581Z</updated>
    
    <content type="html"><![CDATA[<ol><li>数组排序</li><li>内建对象Math、String</li><li>hash数据处理</li><li>随机取色，随机验证码</li><li>模糊查询</li></ol><a id="more"></a><h3 id="遍历："><a href="#遍历：" class="headerlink" title="遍历："></a>遍历：</h3><p><code>for</code>循环：遍历数组的每一个元素，<strong>包含空元素</strong>，以数字下标遍历所有元素，<strong>不包含数组的属性和方法</strong>。</p><p><code>forEach</code>遍历<strong>除空元素外的所有其他元素</strong>，<strong>不遍历数组的属性和方法</strong>。</p><p><code>for(i in arr)</code>将数组的下标转换为字符串，并且<strong>遍历所有非空元素和数组的方法和属性</strong>。</p><h3 id="排序："><a href="#排序：" class="headerlink" title="排序："></a>排序：</h3><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">11</span>,<span class="number">7</span>];</span><br></pre></td></tr></table></figure></li><li><p>桶排序</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">    obj[arr[i]]=arr[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="comment">//将数组内容转换为对象中，自动按照下标排序</span></span><br></pre></td></tr></table></figure></li><li><p>冒泡排序</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;arr.length<span class="number">-1</span>-i;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">var</span> temp=arr[j];</span><br><span class="line">            arr[j]=arr[j+<span class="number">1</span>];</span><br><span class="line">            arr[j+<span class="number">1</span>]=temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>选择排序</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> min=i;</span><br><span class="line">    <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;arr.lemgth;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[min]&gt;arr[j]) min=j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i!==min)&#123;</span><br><span class="line">        <span class="keyword">var</span> temp=arr[i];</span><br><span class="line">        arr[i]=arr[min];</span><br><span class="line">        arr[min]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>快速排序 ===&gt; 递归</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(elem.length&lt;=<span class="number">1</span>) <span class="keyword">return</span> elem;</span><br><span class="line">    <span class="keyword">var</span> pivotIndex=<span class="built_in">Math</span>.floor(elem.length/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">var</span> pivot=elem.splice(pivotIndex,<span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> left=[];<span class="keyword">var</span> right=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;elem.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(elem[i]&lt;pivot) left.push(elem[i]);</span><br><span class="line">        <span class="keyword">else</span> right.push(elem[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> quickSort(left).concat([pivot],quickSort(right));</span><br><span class="line">&#125;</span><br><span class="line">arr=quickSort(arr);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li></ul><h3 id="reverse"><a href="#reverse" class="headerlink" title="reverse:"></a><code>reverse</code>:</h3><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="keyword">var</span> arr1=arr.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure></li><li><p>反转数组，返回原数组</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_reverse</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="built_in">parseInt</span>(arr.length/<span class="number">2</span>);i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> temp=arr[arr.length<span class="number">-1</span>-i];</span><br><span class="line">        arr[arr.length<span class="number">-1</span>-i]=arr[i];</span><br><span class="line">        arr[i]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line">array_recerse(arr);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li></ul><h3 id="sort"><a href="#sort" class="headerlink" title="sort:"></a><code>sort</code>:</h3><ul><li><p>默认转换为字符串排序，数字按照第一位排序（Ascii码）</p></li><li><p>中文按照UTF-8排序</p></li><li><p>重构采用选择排序</p></li><li><p>数组实现随机排序：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.random()<span class="number">-0.5</span>;</span><br><span class="line">    <span class="comment">//随机数的减数大于0.5的概率增大时，数组中从大到小的概率变大</span></span><br><span class="line">    <span class="comment">//随机数的减数小于0.5的概率增大时，数组中从小到大的概率变大</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li><li><p>随机生成0-99以内的10个数：</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1、</span></span><br><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line"><span class="keyword">while</span>(arr.length&lt;<span class="number">10</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> n=<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">if</span>(arr.index(n)&lt;<span class="number">0</span>) arr.push(n);</span><br><span class="line">&#125;</span><br><span class="line">consle.loh(arr);</span><br><span class="line"><span class="comment">//2、</span></span><br><span class="line"><span class="keyword">var</span> arr=<span class="built_in">Array</span>(<span class="number">100</span>).fill(<span class="number">0</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;<span class="keyword">return</span> index&#125;);</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">Math</span>.random()<span class="number">-0.5</span>&#125;);</span><br><span class="line">arr.length=<span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li></ul><h3 id="二维数组："><a href="#二维数组：" class="headerlink" title="二维数组："></a>二维数组：</h3><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    arr[i]=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++)&#123;</span><br><span class="line">        arr[i][j]=i*<span class="number">10</span>+j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">5</span>][<span class="number">6</span>]);</span><br></pre></td></tr></table></figure></li></ul><h3 id="Math"><a href="#Math" class="headerlink" title="Math:"></a>Math:</h3><p><code>Math.PI</code>:角度转弧度：<code>Math.PI/180*60</code>//角度转弧度</p><p><code>Math.abs()</code>绝对值</p><p><code>Math.ceil(-3.6);</code>向上取整//-3</p><p><code>Math.floor(-3.6);</code>向下取整//-4</p><p><code>Math.round(-3.6);</code>四舍五入//-4</p><p>求数组的最大/最小值：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr));<span class="comment">//求数组的最大值</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.min.apply(<span class="literal">null</span>,arr));<span class="comment">//求数组的最小值</span></span><br></pre></td></tr></table></figure><p><code>Math.pow(2,2);</code>//4：求幂</p><p><code>Math.sqrt(4);</code>开根号</p><p><code>Math.random();</code>//0-1：随机数；不包含0/1</p><p>随机取一个范围的值：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">min,max</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*(max-min)+min);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="随机取色："><a href="#随机取色：" class="headerlink" title="随机取色："></a>随机取色：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomColor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> col=<span class="string">"#"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">        col+=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">16</span>).toString(<span class="number">16</span>);</span><br><span class="line">    <span class="keyword">return</span> col;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomColor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> col=<span class="string">"rgb("</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">        col+=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">256</span>)+<span class="string">","</span>;</span><br><span class="line">    col=col.slice(<span class="number">0</span>,<span class="number">-1</span>)+<span class="string">")"</span>;</span><br><span class="line">    <span class="keyword">return</span> col;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">randomColor</span>(<span class="params">a,r,g,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> col=<span class="string">"rgba("</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">        col+=((<span class="built_in">isNaN</span>(<span class="built_in">arguments</span>[i+<span class="number">1</span>]) || <span class="built_in">arguments</span>[i+<span class="number">1</span>]&gt;<span class="number">255</span> || <span class="built_in">arguments</span>[i+<span class="number">1</span>]&lt;<span class="number">0</span>) ? <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">256</span>) : <span class="built_in">Math</span>.floor(<span class="built_in">arguments</span>[i+<span class="number">1</span>]))+<span class="string">","</span>;</span><br><span class="line">    col+=(<span class="built_in">isNaN</span>(a) ? <span class="built_in">Math</span>.random().toFixed(<span class="number">2</span>) : a)+<span class="string">")"</span>;</span><br><span class="line">    <span class="keyword">return</span> col;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="String："><a href="#String：" class="headerlink" title="String："></a>String：</h3><p><code>var str=&quot;abc&quot;;</code>字符串不能修改</p><p><code>console.log(str.length);</code>字符串长度是只读属性</p><p><code>console.log(str[0]);</code>可以使用下标获取元素，只读===<code>str.charAt(0)</code></p><p><code>str.charCodeAt(0);</code>获取第0个字符Ascii</p><p><code>indexOf</code>/<code>lastIndexOf</code> 查找字符在字符串中的下标</p><p><code>includes</code>：判断是否在字符串中存在</p><p><code>search</code>用于正则表达式查找</p><p><code>match</code>用于正则表达式</p><p><code>replace</code>替换并且返回新字符串，用于正则表达式</p><p><code>slice</code></p><p><code>substr</code>从第几个开始截取，第二个参数代表截取多少个字符，开始位置可以使用负数，倒数第几个</p><p><code>substring</code>从下标为几开始到多少结束的字符串，不能从负数开始==&gt;默认为0；可以倒着截取</p><p><code>&quot;abc&quot;.toUpperCase()</code>/ <code>&quot;ABC&quot;.toLowerCase()</code> 转换大小写</p><p>首字母大写</p><p><code>split</code>与数组的join相反，以什么分割；正则表达式切割</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">"a#b#c#d#e#f"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.split(<span class="string">"#"</span>));</span><br></pre></td></tr></table></figure><h3 id="地址栏search-hash数据变成对象："><a href="#地址栏search-hash数据变成对象：" class="headerlink" title="地址栏search/hash数据变成对象："></a>地址栏search/hash数据变成对象：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url=<span class="string">"http://www.163.com/new/index.html?token=ashjd2i1nsdh21df2123&amp;name=xietian&amp;age=30"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getObject</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> url.split(<span class="string">"?"</span>)[<span class="number">1</span>].split(<span class="string">"&amp;"</span>).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">value,item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> arr=item.split(<span class="string">"="</span>);</span><br><span class="line">        value[arr[<span class="number">0</span>]]=<span class="built_in">isNaN</span>(arr[<span class="number">1</span>]) ? arr[<span class="number">1</span>] : <span class="built_in">Number</span>(arr(<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;,&#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> <span class="number">0</span>=getObject(url);</span><br><span class="line"><span class="built_in">console</span>.log(o);</span><br></pre></td></tr></table></figure><h3 id="随机验证码："><a href="#随机验证码：" class="headerlink" title="随机验证码："></a>随机验证码：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=getAuth();</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAuth</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">48</span>;i&lt;<span class="number">123</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">57</span> &amp;&amp; i&lt;<span class="number">65</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">90</span> &amp;&amp; i&lt;<span class="number">97</span>) <span class="keyword">continue</span>;</span><br><span class="line">        arr.push(<span class="built_in">String</span>.fromCharCode(i));</span><br><span class="line">    &#125;</span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.random()<span class="number">-0.5</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    arr.length=<span class="number">4</span>;</span><br><span class="line">    <span class="keyword">return</span> arr.join(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="模糊查找"><a href="#模糊查找" class="headerlink" title="模糊查找"></a>模糊查找</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;input <span class="built_in">type</span>=<span class="string">"text"</span> id=<span class="string">"input"</span>&gt;</span><br><span class="line">&lt;ul id=<span class="string">"ul"</span>&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">var arr=[</span><br><span class="line">    &#123;id:1001,name:<span class="string">"计算器"</span>,price:26&#125;,</span><br><span class="line">    &#123;id:1002,name:<span class="string">"计算机"</span>,price:26&#125;,</span><br><span class="line">    &#123;id:1003,name:<span class="string">"飞机"</span>,price:26&#125;,</span><br><span class="line">    &#123;id:1004,name:<span class="string">"飞行器"</span>,price:26&#125;,</span><br><span class="line">    &#123;id:1005,name:<span class="string">"算盘"</span>,price:26&#125;,</span><br><span class="line">    &#123;id:1006,name:<span class="string">"电器"</span>,price:26&#125;,</span><br><span class="line">    &#123;id:1007,name:<span class="string">"电视机"</span>,price:26&#125;,</span><br><span class="line">]</span><br><span class="line">var input=document.getElementById(<span class="string">"input"</span>);</span><br><span class="line">var ul=document.getElentById(<span class="string">"ul"</span>);</span><br><span class="line">input.onput=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">ul.innerHtml=arr.reduce(<span class="keyword">function</span>(value,item)&#123;</span><br><span class="line"><span class="keyword">if</span>(item.name.indexOf(input.value)&gt;-1) value+=<span class="string">"&lt;li&gt;"</span>+item.name+<span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line"><span class="built_in">return</span> value;</span><br><span class="line">&#125;,<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;数组排序&lt;/li&gt;
&lt;li&gt;内建对象Math、String&lt;/li&gt;
&lt;li&gt;hash数据处理&lt;/li&gt;
&lt;li&gt;随机取色，随机验证码&lt;/li&gt;
&lt;li&gt;模糊查询&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>数组常用方法重构与应用</title>
    <link href="http://ankang.icu/2021/03/23/%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E9%87%8D%E6%9E%84%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
    <id>http://ankang.icu/2021/03/23/数组常用方法重构与应用/</id>
    <published>2021-03-23T12:46:02.000Z</published>
    <updated>2021-03-27T07:40:09.222Z</updated>
    
    <content type="html"><![CDATA[<ol><li>数组常用方法</li><li>实现重构</li><li>常用方法的应用</li></ol><a id="more"></a><h3 id="数组方法："><a href="#数组方法：" class="headerlink" title="数组方法："></a>数组方法：</h3><ul><li><p><code>splice</code></p></li><li><p><code>arr.splice(起始的位置，删除的个数，添加的元素（可以是多个）)</code></p></li><li><p>返回删除的元素构成的新数组，无引用关系</p></li><li><p>替换</p></li><li><p><code>arr.splice()</code>//返回一个空数组</p></li><li><p><code>arr.splice(0)</code>//把数组中所有元素删除，放在新数组中，清空原数组</p></li><li><p><code>arr.splice(1)</code>//从下标为1清除到数组尾部</p></li><li><p><code>arr.splice(-2)</code>//从倒数第二项删除到尾部</p></li><li><p><code>arr.splice(1,2)</code>//从第一位删除两个元素</p></li><li><p><code>arr.splice(-2,1)</code>//从倒数第二项删除一个元素</p></li><li><p><code>arr.splice(-1,0,1)</code>//在倒数第一位前插入一个1</p></li><li><p><code>arr.splice(0,0,-1)</code>//在最前面插入一个-1</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_splice</span>(<span class="params">arr, start, deleteCount</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr1 = [];</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">undefined</span> || arr.constructor !== <span class="built_in">Array</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"参数错误"</span>);</span><br><span class="line">    <span class="keyword">if</span> (start === <span class="literal">undefined</span>) <span class="keyword">return</span> arr1;</span><br><span class="line">    start = <span class="built_in">Number</span>(start);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(start)) start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (start &lt; <span class="number">0</span>) start = start + arr.length &lt; <span class="number">0</span> ? <span class="number">0</span> : start + arr.length;</span><br><span class="line">    <span class="keyword">if</span> (start &gt; arr.length) start = arr.length;</span><br><span class="line">    <span class="keyword">if</span> (deleteCount === <span class="literal">undefined</span>) deleteCount = arr.length - start;</span><br><span class="line">    deleteCount = <span class="built_in">Number</span>(deleteCount);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(deleteCount)) deleteCount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (deleteCount &lt; <span class="number">0</span>) <span class="keyword">return</span> arr1;</span><br><span class="line">    <span class="keyword">if</span> (deleteCount + start &gt; arr.length) deleteCount = arr.length - start;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = start; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; deleteCount + start) arr1[arr1.length] = arr[i];</span><br><span class="line">        arr[i] = arr[i + deleteCount];</span><br><span class="line">  &#125;</span><br><span class="line">    arr.length -= deleteCount;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="built_in">arguments</span>.length - <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">var</span> l = (arr.length += len);</span><br><span class="line">    <span class="keyword">while</span> (l &gt; start) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt; start + len) arr[l - <span class="number">1</span>] = arr[l - len - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> arr[l - <span class="number">1</span>] = <span class="built_in">arguments</span>[<span class="number">3</span> + (l - <span class="number">1</span> - start)];</span><br><span class="line">        l--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr1 = array_splice(arr, <span class="number">7</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">-2</span>, <span class="number">-3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr, arr1);</span><br></pre></td></tr></table></figure></li><li><p><code>slice</code>不会改变原数组，将指定的起始位置到结束位置的元素放在一个新数组中返回</p></li><li><p><code>arr.slice()</code>复制数组，无引用关系</p></li><li><p><code>arr.slice(3)</code>从下标3开始到数组尾部</p></li><li><p><code>arr.slice(-2)</code>//从倒数第二个开始到数组尾部</p></li><li><p><code>arr.slice(2,-1)</code>从第二位到数组的倒数第一位</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_slice</span>(<span class="params">arr,start,end</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr1=[];</span><br><span class="line">    <span class="keyword">if</span>(start===<span class="literal">undefined</span> || <span class="built_in">isNaN</span>(start)) start=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(end===<span class="literal">undefined</span> || <span class="built_in">isNaN</span>(end)) end=arr.length;</span><br><span class="line">    start=<span class="built_in">parseInt</span>(start);</span><br><span class="line">    end=<span class="built_in">parseInt</span>(end);</span><br><span class="line">    <span class="keyword">if</span>(start&lt;<span class="number">0</span>) start=(start+arr.length)&lt;<span class="number">0</span> ? <span class="number">0</span> : start+arr.length;</span><br><span class="line">    <span class="keyword">if</span>(end&lt;<span class="number">0</span>) end=(end+arr.length)&lt;<span class="number">0</span> ? <span class="number">0</span> : end+arr.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=start;i&lt;end;i++)&#123;</span><br><span class="line">        arr1[arr1.length]=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr1= array_slice(arr,<span class="number">1</span>,<span class="number">-7</span>);</span><br><span class="line"><span class="keyword">var</span> arr2=arr.slice(<span class="number">1</span>,<span class="number">-7</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1,arr2);</span><br></pre></td></tr></table></figure></li><li><p><code>forEach</code>不返回新数组</p></li><li><p>遍历数组</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[</span><br><span class="line">    &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">a</span>:<span class="number">2</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">a</span>:<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">a</span>:<span class="number">4</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">a</span>:<span class="number">5</span>&#125;,</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> arr1=arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// item.a=10;</span></span><br><span class="line">    item=&#123;<span class="attr">a</span>:<span class="number">10</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_forEach</span>(<span class="params">arr,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i <span class="keyword">in</span> arr) fn(arr[i],i,arr);</span><br><span class="line">        <span class="comment">//if判断是为了将数组中未定义的元素不显示</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">array_forEach(arr,<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item,index,arr);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><code>map</code>会返回一个新数组，长度与原数组必须相同</p></li><li><p><code>map</code>中回调函数里使用return可以将需要的每个元素数据返回给新数组中对应的位置</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_map</span>(<span class="params">arr,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr1=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123; </span><br><span class="line">       <span class="keyword">if</span>(i <span class="keyword">in</span> arr) arr1[i]=fn(arr[i],i,arr)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>];</span><br><span class="line"><span class="keyword">var</span> arr1=array_map(arr,<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item+<span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr1)</span><br></pre></td></tr></table></figure></li><li><p><code>some</code></p></li><li><p>当数组元素中有一个满足回调函数中的条件，则返回true,并且不再继续遍历判断</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_some</span>(<span class="params">arr,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i <span class="keyword">in</span> arr &amp;&amp; <span class="built_in">Boolean</span>(fn(arr[i],i,arr))) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bool=array_some(arr,<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item&gt;<span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(bool);</span><br></pre></td></tr></table></figure></li><li><p><code>every</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_every</span>(<span class="params">arr,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i <span class="keyword">in</span> arr &amp;&amp; !(fn(arr[i],i,arr))) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bool=array_every(arr,<span class="function"><span class="keyword">function</span>(<span class="params">item,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item&gt;<span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(bool);</span><br></pre></td></tr></table></figure></li><li><p><code>filter</code></p></li><li><p>筛选，从数组中挑选出满足条件的数据形成新数组（不可修改）</p></li><li><p>重构：回调函数返回为true时，将元素添加到新数组的尾部</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_filter</span>(<span class="params">arr,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr1=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i <span class="keyword">in</span> arr &amp;&amp; fn(arr[i],i,arr)) arr1[arr1.length]=arr[i];</span><br><span class="line">        <span class="comment">//回调函数返回为true时，将元素添加到新数组的尾部</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr1=array_filter(arr,<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item&gt;=<span class="number">3</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure></li><li><p><code>reduce</code></p></li><li><p>归并，从数组中通过各种处理，最后返回一个结果</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">var</span> val=arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">value,item,index,arr</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//value就是开始到结束的归并值</span></span><br><span class="line">    <span class="built_in">console</span>.log(value,item);</span><br><span class="line">    <span class="keyword">return</span> value+item;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_reduce</span>(<span class="params">arr,fn,init</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.length===<span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(arr.length===<span class="number">1</span>) <span class="keyword">return</span> arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> value=arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> index=<span class="number">1</span>;<span class="comment">//后续判断从第几个开始循环，如果有初始值则从第0个开始循环，如果没有初始值从第一个开始循环</span></span><br><span class="line">    <span class="keyword">if</span>(init!==<span class="literal">undefined</span>)&#123;</span><br><span class="line">        index=<span class="number">0</span>;</span><br><span class="line">        value=init;<span class="comment">//如果初始值存在value就是初始值，如果不存在初始值就是数组的第0项</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(;index&lt;arr.length;index++)&#123;</span><br><span class="line">        value=fn(value,arr[index],index,arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> val=array_reduce(arr,<span class="function"><span class="keyword">function</span>(<span class="params">value,item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value+item;</span><br><span class="line">&#125;,<span class="number">50</span>)</span><br><span class="line"><span class="built_in">console</span>.log(val)</span><br></pre></td></tr></table></figure></li><li><p><code>flatMap</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_flatmap</span>(<span class="params">arr, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr1 = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> value = fn(arr[i], i, arr);</span><br><span class="line">        <span class="keyword">if</span> (value &amp;&amp; value.constructor === <span class="built_in">Array</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; value.length; j++) &#123;</span><br><span class="line">                arr1[arr1.length] = value[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr1[arr1.length] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr1=array_flatmap(arr,<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(item))</span><br><span class="line">        item=array_flatmap(item,<span class="function"><span class="keyword">function</span>(<span class="params">t</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure></li><li><p><code>indexOf</code></p></li><li><p>在数组中查找某个元素的下标，如果这个元素存在，返回这个元素所在下标</p></li><li><p>如果查找不到返回-1。</p></li><li><p><code>var index=arr.indexOf(查找什么元素，从什么位置开始查找);</code></p></li><li><p><code>lastIndexOf</code></p></li></ul><h3 id="查找元素所有下标"><a href="#查找元素所有下标" class="headerlink" title="查找元素所有下标"></a>查找元素所有下标</h3><ul><li>循环、位非</li><li><code>forEach</code></li><li><code>reduce</code></li><li>循环</li></ul><h3 id="去重"><a href="#去重" class="headerlink" title="去重"></a>去重</h3><ul><li>循环判断</li><li>布尔标记写入新数组</li><li>标记跳出循环</li><li><code>indexOf</code></li></ul><h3 id="将两个数组中相同的元素放在一个新数组中"><a href="#将两个数组中相同的元素放在一个新数组中" class="headerlink" title="将两个数组中相同的元素放在一个新数组中"></a>将两个数组中相同的元素放在一个新数组中</h3><h3 id="将两个数组中不同的元素放在一个新数组中"><a href="#将两个数组中不同的元素放在一个新数组中" class="headerlink" title="将两个数组中不同的元素放在一个新数组中"></a>将两个数组中不同的元素放在一个新数组中</h3>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;数组常用方法&lt;/li&gt;
&lt;li&gt;实现重构&lt;/li&gt;
&lt;li&gt;常用方法的应用&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JS数组及常用方法</title>
    <link href="http://ankang.icu/2021/03/22/JS%E6%95%B0%E7%BB%84%E5%8F%8A%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <id>http://ankang.icu/2021/03/22/JS数组及常用方法/</id>
    <published>2021-03-22T14:29:25.000Z</published>
    <updated>2021-03-22T14:39:04.863Z</updated>
    
    <content type="html"><![CDATA[<ol><li>数组相关概念</li><li>数组常用方法及重构</li></ol><a id="more"></a><h3 id="递归："><a href="#递归：" class="headerlink" title="递归："></a>递归：</h3><ul><li><h5 id="函数在没有完全执行结束时，内部的所有变量都不会被销毁"><a href="#函数在没有完全执行结束时，内部的所有变量都不会被销毁" class="headerlink" title="函数在没有完全执行结束时，内部的所有变量都不会被销毁"></a>函数在没有完全执行结束时，内部的所有变量都不会被销毁</h5></li><li><h5 id="递归会建立一个函数的副本，在堆中建立一个相同的函数引用，递归时调用这个新的函数引用"><a href="#递归会建立一个函数的副本，在堆中建立一个相同的函数引用，递归时调用这个新的函数引用" class="headerlink" title="递归会建立一个函数的副本，在堆中建立一个相同的函数引用，递归时调用这个新的函数引用"></a>递归会建立一个函数的副本，在堆中建立一个相同的函数引用，递归时调用这个新的函数引用</h5></li><li><h5 id="堆栈上限溢出"><a href="#堆栈上限溢出" class="headerlink" title="堆栈上限溢出"></a><em>堆栈上限溢出</em></h5></li><li><h5 id="广度遍历-深度遍历："><a href="#广度遍历-深度遍历：" class="headerlink" title="广度遍历/深度遍历："></a>广度遍历/深度遍历：</h5><ul><li><h6 id="对象的广度遍历使用for-in"><a href="#对象的广度遍历使用for-in" class="headerlink" title="对象的广度遍历使用for in;"></a>对象的广度遍历使用for in;</h6></li><li><h6 id="对象的深度遍历使用递归；"><a href="#对象的深度遍历使用递归；" class="headerlink" title="对象的深度遍历使用递归；"></a>对象的深度遍历使用递归；</h6></li></ul></li><li><h5 id="对象的深复制："><a href="#对象的深复制：" class="headerlink" title="对象的深复制："></a>对象的深复制：</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a1: <span class="number">1</span>,</span><br><span class="line">    b1: <span class="number">2</span>,</span><br><span class="line">    c1: <span class="number">3</span>,</span><br><span class="line">    d1: &#123;<span class="attr">a2</span>: <span class="number">4</span>,<span class="attr">b2</span>: <span class="number">5</span>,<span class="attr">c2</span>: <span class="number">6</span>,</span><br><span class="line">         e2: &#123;<span class="attr">a4</span>: <span class="number">7</span>,<span class="attr">b4</span>: <span class="number">8</span>,<span class="attr">c4</span>: <span class="number">9</span>,</span><br><span class="line">              d5: &#123;&#125;&#125;,</span><br><span class="line">         d2: &#123;<span class="attr">a3</span>: <span class="number">10</span>,<span class="attr">b3</span>: <span class="number">11</span>,<span class="attr">c3</span>: <span class="number">12</span>,</span><br><span class="line">              f3: &#123;<span class="attr">a4</span>: <span class="number">13</span>,<span class="attr">b4</span>: <span class="number">14</span>,<span class="attr">c4</span>: <span class="number">15</span>,</span><br><span class="line">                   d5: &#123;&#125;&#125;,</span><br><span class="line">              d3: &#123;<span class="attr">a4</span>: <span class="number">16</span>,<span class="attr">b4</span>: <span class="number">17</span>,<span class="attr">c4</span>: <span class="number">18</span>,</span><br><span class="line">                   d5: &#123;&#125;&#125;,</span><br><span class="line">             &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">source,target</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(target===<span class="literal">undefined</span>) target=&#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> source)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> source[prop]===<span class="string">"object"</span> &amp;&amp; source[prop]!==<span class="literal">null</span>)&#123;</span><br><span class="line">            target[prop]=&#123;&#125;;</span><br><span class="line">            fn1(source[prop],target[prop])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            target[prop]=source[prop];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o=fn1(obj);</span><br><span class="line">obj.d1.d2.d3.c4=<span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(o);</span><br></pre></td></tr></table></figure></li><li><h5 id="二叉树："><a href="#二叉树：" class="headerlink" title="二叉树："></a>二叉树：</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    left:&#123;</span><br><span class="line">        value:<span class="number">1</span>,</span><br><span class="line">        left:&#123;</span><br><span class="line">            value:<span class="number">3</span></span><br><span class="line">        &#125;,</span><br><span class="line">        right:&#123;</span><br><span class="line">            value:<span class="number">4</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    right:&#123;</span><br><span class="line">        value:<span class="number">2</span>,</span><br><span class="line">        left:&#123;</span><br><span class="line">        value:<span class="number">5</span></span><br><span class="line">        &#125;,</span><br><span class="line">        right:&#123;</span><br><span class="line">            value:<span class="number">6</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(o.value);</span><br><span class="line">    <span class="keyword">if</span>(o.left) fn1(o.left);</span><br><span class="line">    <span class="keyword">if</span>(o.right) fn1(o.right);</span><br><span class="line">    <span class="built_in">console</span>.log(o.value);</span><br><span class="line">&#125;</span><br><span class="line">fn1(obj);</span><br></pre></td></tr></table></figure></li><li><h5 id="深查找"><a href="#深查找" class="headerlink" title="深查找"></a>深查找</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">o,value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> o)&#123;</span><br><span class="line">        <span class="keyword">if</span>(o[prop]===value) <span class="keyword">return</span> prop;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> o[prop]===<span class="string">"object"</span> &amp;&amp; o[prop]!==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> s=fn3(o[prop],value)</span><br><span class="line">            <span class="keyword">if</span>(s) <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> prop=fn3(obj,<span class="number">14</span>);</span><br><span class="line"><span class="built_in">console</span>.log(prop)</span><br></pre></td></tr></table></figure></li></ul><h3 id="数组："><a href="#数组：" class="headerlink" title="数组："></a>数组：</h3><ul><li><h5 id="数组是一个列表"><a href="#数组是一个列表" class="headerlink" title="数组是一个列表"></a>数组是一个列表</h5></li><li><h5 id="起始为0；"><a href="#起始为0；" class="headerlink" title="起始为0；"></a>起始为0；</h5></li><li><h5 id="实际上是按照下标存储元素的方式，将值存在列表中。"><a href="#实际上是按照下标存储元素的方式，将值存在列表中。" class="headerlink" title="实际上是按照下标存储元素的方式，将值存在列表中。"></a>实际上是按照下标存储元素的方式，将值存在列表中。</h5></li><li><h5 id="arr-1-4"><a href="#arr-1-4" class="headerlink" title="arr[1]===4"></a><code>arr[1]===4</code></h5><ul><li><h6 id="1就是下标"><a href="#1就是下标" class="headerlink" title="1就是下标"></a>1就是下标</h6></li><li><h6 id="arr-1-下标变量"><a href="#arr-1-下标变量" class="headerlink" title="arr[1]下标变量"></a><code>arr[1]</code>下标变量</h6></li><li><h6 id="4就是元素"><a href="#4就是元素" class="headerlink" title="4就是元素"></a>4就是元素</h6></li></ul></li><li><h5 id="数组创建："><a href="#数组创建：" class="headerlink" title="数组创建："></a>数组创建：</h5><ul><li><h6 id="字面量创建–var-arr-1-2-3"><a href="#字面量创建–var-arr-1-2-3" class="headerlink" title="字面量创建–var arr=[1,2,3]"></a>字面量创建–<code>var arr=[1,2,3]</code></h6></li><li><h6 id="构造函数创建"><a href="#构造函数创建" class="headerlink" title="构造函数创建"></a>构造函数创建</h6><ul><li><code>var arr=new Array(1,2,3)</code></li><li><code>var arr=Array(1,2,3)</code></li></ul></li><li><h6 id="对象创建–var-arr-new-Object-1-2-3"><a href="#对象创建–var-arr-new-Object-1-2-3" class="headerlink" title="对象创建–var arr=new Object([1,2,3])"></a>对象创建–<code>var arr=new Object([1,2,3])</code></h6></li></ul></li><li><h5 id="JS中数组的元素可以类型不同"><a href="#JS中数组的元素可以类型不同" class="headerlink" title="JS中数组的元素可以类型不同"></a>JS中数组的元素可以类型不同</h5></li><li><h5 id="因为空元素就是下标没有对应的值，所以可以通过-下标-in-数组-这种方式判断。"><a href="#因为空元素就是下标没有对应的值，所以可以通过-下标-in-数组-这种方式判断。" class="headerlink" title="因为空元素就是下标没有对应的值，所以可以通过 下标 in 数组 这种方式判断。"></a>因为空元素就是下标没有对应的值，所以可以通过 下标 in 数组 这种方式判断。</h5></li><li><h5 id="如果构造函数中的参数数量大于1个，则所有的参数都是这个数组的元素。"><a href="#如果构造函数中的参数数量大于1个，则所有的参数都是这个数组的元素。" class="headerlink" title="如果构造函数中的参数数量大于1个，则所有的参数都是这个数组的元素。"></a>如果构造函数中的参数数量大于1个，则所有的参数都是这个数组的元素。</h5></li><li><h5 id="如果构造函数的参数只有一个，就是数组的长度"><a href="#如果构造函数的参数只有一个，就是数组的长度" class="headerlink" title="如果构造函数的参数只有一个，就是数组的长度"></a>如果构造函数的参数只有一个，就是数组的长度</h5></li><li><h5 id="如果仅有一个参数，并且是数值类型，但并不是正整数，就会报错。"><a href="#如果仅有一个参数，并且是数值类型，但并不是正整数，就会报错。" class="headerlink" title="如果仅有一个参数，并且是数值类型，但并不是正整数，就会报错。"></a>如果仅有一个参数，并且是数值类型，但并不是<strong><em>正整数</em></strong>，就会报错。</h5></li><li><h5 id="如果仅有一个参数，但不是数值类型，则会把这个参数放在数组的第0位。"><a href="#如果仅有一个参数，但不是数值类型，则会把这个参数放在数组的第0位。" class="headerlink" title="如果仅有一个参数，但不是数值类型，则会把这个参数放在数组的第0位。"></a>如果仅有一个参数，但不是数值类型，则会把这个参数放在数组的第0位。</h5></li></ul><h4 id="数组长度"><a href="#数组长度" class="headerlink" title="数组长度"></a>数组长度</h4><ul><li><h5 id="元素个数（包括空元素）"><a href="#元素个数（包括空元素）" class="headerlink" title="元素个数（包括空元素）"></a>元素个数（包括空元素）</h5></li><li><h5 id="arr-length是一个可读可写的属性"><a href="#arr-length是一个可读可写的属性" class="headerlink" title="arr.length是一个可读可写的属性"></a><code>arr.length</code>是一个可读可写的属性</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">arr.length=<span class="number">5</span>;</span><br><span class="line">arr.length=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li><li><h5 id="如果当前数组的长度小于设置的长度，则增加-新长度-原长度-数量的空元素"><a href="#如果当前数组的长度小于设置的长度，则增加-新长度-原长度-数量的空元素" class="headerlink" title="如果当前数组的长度小于设置的长度，则增加(新长度-原长度)数量的空元素"></a>如果当前数组的长度小于设置的长度，则增加(新长度-原长度)数量的空元素</h5></li><li><h5 id="如果新长度小于原长度，则删除-原长度-新长度-数量的元素"><a href="#如果新长度小于原长度，则删除-原长度-新长度-数量的元素" class="headerlink" title="如果新长度小于原长度，则删除(原长度-新长度)数量的元素"></a>如果新长度小于原长度，则删除(原长度-新长度)数量的元素</h5></li><li><h5 id="arr-length-0清空数组"><a href="#arr-length-0清空数组" class="headerlink" title="arr.length=0清空数组"></a><code>arr.length=0</code>清空数组</h5></li><li><h5 id="arr-length-删除尾部的最后一个元素"><a href="#arr-length-删除尾部的最后一个元素" class="headerlink" title="arr.length--删除尾部的最后一个元素"></a><code>arr.length--</code>删除尾部的最后一个元素</h5></li><li><h5 id="length不能小于0或者是负数"><a href="#length不能小于0或者是负数" class="headerlink" title="length不能小于0或者是负数"></a>length不能小于0或者是负数</h5></li><li><h5 id="必须是一个正整数–arr-length-quot-a-quot"><a href="#必须是一个正整数–arr-length-quot-a-quot" class="headerlink" title="必须是一个正整数–arr.length=&quot;a&quot;"></a>必须是一个正整数–<code>arr.length=&quot;a&quot;</code></h5></li><li><h5 id="push–尾部添加一个或者多个元素-并且返回数组的新长度"><a href="#push–尾部添加一个或者多个元素-并且返回数组的新长度" class="headerlink" title="push–尾部添加一个或者多个元素,并且返回数组的新长度"></a><code>push</code>–尾部添加一个或者多个元素,并且返回数组的新长度</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line"><span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(arr.push(i++)&lt;<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_push</span>(<span class="params">arr:Array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="literal">undefined</span> || arr.constructor!==<span class="built_in">Array</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"错误参数"</span>);</span><br><span class="line">    <span class="comment">//throw new Error() 抛出错误，中断后续代码的执行</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">arguments</span>.length===<span class="number">1</span>) <span class="keyword">return</span> arr.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="built_in">arguments</span>.length;i++)&#123;</span><br><span class="line">        arr[arr.length]=<span class="built_in">arguments</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//给数组尾部一旦添加元素，arr.length就会自动重设</span></span><br><span class="line">    <span class="keyword">return</span> arr.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[];</span><br><span class="line">array_push(arr,<span class="number">2</span>);</span><br></pre></td></tr></table></figure></li><li><h5 id="pop–删除数组尾部的一个元素，并且返回被删除的元素"><a href="#pop–删除数组尾部的一个元素，并且返回被删除的元素" class="headerlink" title="pop–删除数组尾部的一个元素，并且返回被删除的元素"></a>pop–删除数组尾部的一个元素，并且返回被删除的元素</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_pop</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> item=arr[arr.length<span class="number">-1</span>];</span><br><span class="line">    arr.length--;</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line"><span class="keyword">var</span> item=array_pop(arr);</span><br><span class="line"><span class="built_in">console</span>,log(arr,item);</span><br></pre></td></tr></table></figure></li><li><h5 id="shift–删除数组头部的元素，并且返回被删除的元素"><a href="#shift–删除数组头部的元素，并且返回被删除的元素" class="headerlink" title="shift–删除数组头部的元素，并且返回被删除的元素"></a>shift–删除数组头部的元素，并且返回被删除的元素</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_shift</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.length===<span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">var</span> item=arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        arr[i]=arr[i+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    arr.length--;</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> item=array_shift(arr);</span><br><span class="line"><span class="built_in">console</span>.log(item)</span><br></pre></td></tr></table></figure></li><li><h5 id="unshift–向数组的头部添加一个元素，并返回数组的新长度"><a href="#unshift–向数组的头部添加一个元素，并返回数组的新长度" class="headerlink" title="unshift–向数组的头部添加一个元素，并返回数组的新长度"></a>unshift–向数组的头部添加一个元素，并返回数组的新长度</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_unshift</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//控制参数代码</span></span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="literal">undefined</span> || arr.constructor!==<span class="built_in">Array</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"错误参数"</span>);</span><br><span class="line">    <span class="comment">//throw new Error() 抛出错误，中断后续代码的执行</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">arguments</span>.length===<span class="number">1</span>) <span class="keyword">return</span> arr.length;</span><br><span class="line">    <span class="keyword">var</span> len=<span class="built_in">arguments</span>.length<span class="number">-1</span>;<span class="comment">//当前添加参数数量</span></span><br><span class="line">    arr.length=len=len+arr.length;<span class="comment">//添加元素后数组的新长度</span></span><br><span class="line">    <span class="keyword">while</span>(len&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(len&gt;<span class="built_in">arguments</span>.length<span class="number">-1</span>)&#123;</span><br><span class="line">            arr[len<span class="number">-1</span>]=arr[len-<span class="built_in">arguments</span>.length];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            arr[len<span class="number">-1</span>]=<span class="built_in">arguments</span>[len];</span><br><span class="line">        &#125;</span><br><span class="line">        len--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">array_unshift(arr,<span class="number">-1</span>,<span class="number">0</span>);</span><br></pre></td></tr></table></figure></li><li><h5 id="concat–合并数组，可以将一个数组和另外一个数组合并成一个新数组，原数组不变。"><a href="#concat–合并数组，可以将一个数组和另外一个数组合并成一个新数组，原数组不变。" class="headerlink" title="concat–合并数组，可以将一个数组和另外一个数组合并成一个新数组，原数组不变。"></a><code>concat</code>–合并数组，可以将一个数组和另外一个数组合并成一个新数组，原数组不变。</h5></li><li><h5 id="可以是用一个数组合并多个元素，产生一个新数组"><a href="#可以是用一个数组合并多个元素，产生一个新数组" class="headerlink" title="可以是用一个数组合并多个元素，产生一个新数组"></a>可以是用一个数组合并多个元素，产生一个新数组</h5></li><li><h5 id="如果不填写参数，则复制原数组，产生一个新数组"><a href="#如果不填写参数，则复制原数组，产生一个新数组" class="headerlink" title="如果不填写参数，则复制原数组，产生一个新数组"></a>如果不填写参数，则复制原数组，产生一个新数组</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_concat</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="literal">undefined</span> || arr.constructor!==<span class="built_in">Array</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"不是数组"</span>)</span><br><span class="line">    <span class="keyword">var</span> arr1=[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        arr1[i]=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">arguments</span>.length===<span class="number">1</span>) <span class="keyword">return</span> arr1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">1</span>;j&lt;<span class="built_in">arguments</span>.length;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">arguments</span>[j] &amp;&amp; <span class="built_in">arguments</span>[j].constructor===<span class="built_in">Array</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">0</span>;k&lt;<span class="built_in">arguments</span>[j].length;k++)&#123;</span><br><span class="line">                arr1[arr1.length]=<span class="built_in">arguments</span>[j][k];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">        arr1[arr1.length]=<span class="built_in">arguments</span>[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> arr1=array_concat(arr);</span><br><span class="line">arr[<span class="number">0</span>]=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> arr1=array_concat(arr,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> arr1=array_concat(arr,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="keyword">var</span> arr1=array_concat(arr,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]);</span><br><span class="line"><span class="keyword">var</span> arr1=array_concat(arr,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br></pre></td></tr></table></figure></li><li><h5 id="join–连接字符串，用符号连接数组的元素并且生成字符串"><a href="#join–连接字符串，用符号连接数组的元素并且生成字符串" class="headerlink" title="join–连接字符串，用符号连接数组的元素并且生成字符串"></a><code>join</code>–连接字符串，用符号连接数组的元素并且生成字符串</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_join</span>(<span class="params">arr,separator</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="literal">undefined</span> || arr.constructor!==<span class="built_in">Array</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"不是数组"</span>)</span><br><span class="line">    <span class="keyword">if</span>(separator===<span class="literal">undefined</span>) separator=<span class="string">","</span>;</span><br><span class="line">    separator=<span class="built_in">String</span>(separator);</span><br><span class="line">    <span class="keyword">var</span> str=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        str+=arr[i]+separator;</span><br><span class="line">    &#125;</span><br><span class="line">    str+=arr[arr.length<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> str=array_join(arr,<span class="string">""</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br></pre></td></tr></table></figure></li><li><p><code>fill</code></p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_fill</span>(<span class="params">arr,item,start,end</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="literal">undefined</span> || arr.constructor!==<span class="built_in">Array</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"不是数组"</span>)</span><br><span class="line">    <span class="keyword">if</span>(start===<span class="literal">undefined</span>) start=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(end===<span class="literal">undefined</span>) end=arr.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=start;i&lt;end;i++)&#123;</span><br><span class="line">        arr[i]=item;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr=<span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line">arr=array_fill(arr,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></li><li><h5 id="Array-from将一个列表转换为数组"><a href="#Array-from将一个列表转换为数组" class="headerlink" title="Array.from将一个列表转换为数组"></a><code>Array.from</code>将一个列表转换为数组</h5></li><li><h5 id="下标有0，1，2，3，4，5就是有列表，必须要有length。"><a href="#下标有0，1，2，3，4，5就是有列表，必须要有length。" class="headerlink" title="下标有0，1，2，3，4，5就是有列表，必须要有length。"></a>下标有0，1，2，3，4，5就是有列表，必须要有length。</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> str=<span class="built_in">arguments</span>.join(<span class="string">""</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(str);</span><br><span class="line">    <span class="keyword">var</span> arr=<span class="built_in">Array</span>.from(argumentss);</span><br><span class="line">    <span class="keyword">var</span> str=arr.join(<span class="string">""</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(str);</span><br><span class="line">&#125;</span><br><span class="line">fn1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.form_1=<span class="function"><span class="keyword">function</span>(<span class="params">list</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr=[];</span><br><span class="line">    <span class="keyword">if</span>(!list.length) <span class="keyword">return</span> [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;list.length;i++)&#123;</span><br><span class="line">        arr[i]=list[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//简单</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.apply(list);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(list);</span><br><span class="line">    <span class="keyword">return</span> [].slice.apply(list);</span><br><span class="line">    <span class="keyword">return</span> [].slice.call(list);</span><br><span class="line">    <span class="keyword">return</span> [].concat.apply([],list);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.concat.apply([],list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h5 id="Array-isArray判断元素是否为数组"><a href="#Array-isArray判断元素是否为数组" class="headerlink" title="Array.isArray判断元素是否为数组"></a><code>Array.isArray</code>判断元素是否为数组</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray_1=<span class="function"><span class="keyword">function</span>(<span class="params">list</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (list &amp;&amp; list.constructor===<span class="built_in">Array</span>) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;数组相关概念&lt;/li&gt;
&lt;li&gt;数组常用方法及重构&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="深复制/浅复制" scheme="http://ankang.icu/tags/%E6%B7%B1%E5%A4%8D%E5%88%B6-%E6%B5%85%E5%A4%8D%E5%88%B6/"/>
    
  </entry>
  
  <entry>
    <title>回调函数与设计模式</title>
    <link href="http://ankang.icu/2021/03/19/%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E4%B8%8E%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://ankang.icu/2021/03/19/回调函数与设计模式/</id>
    <published>2021-03-19T14:25:24.000Z</published>
    <updated>2021-03-27T08:37:35.103Z</updated>
    
    <content type="html"><![CDATA[<ol><li>参数的定义</li><li><code>return</code>的基本使用</li><li>单例模式/工厂模式/桥接模式</li><li>回调函数的概念</li></ol><a id="more"></a><h3 id="参数："><a href="#参数：" class="headerlink" title="参数："></a>参数：</h3><ol><li><h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h4></li><li><h4 id="形参、实参"><a href="#形参、实参" class="headerlink" title="形参、实参"></a>形参、实参</h4><ul><li><h5 id="如果实参数量小于形参数量，那么最后没有赋值形参是undefined。"><a href="#如果实参数量小于形参数量，那么最后没有赋值形参是undefined。" class="headerlink" title="如果实参数量小于形参数量，那么最后没有赋值形参是undefined。"></a>如果实参数量小于形参数量，那么最后没有赋值形参是undefined。</h5></li><li><h5 id="如果形参数量小于实参数量，那么多出来的实参无法从形参上获取。"><a href="#如果形参数量小于实参数量，那么多出来的实参无法从形参上获取。" class="headerlink" title="如果形参数量小于实参数量，那么多出来的实参无法从形参上获取。"></a>如果形参数量小于实参数量，那么多出来的实参无法从形参上获取。</h5></li></ul></li><li><h4 id="外部带入的和函数内的在不产生引用时是没有关联的"><a href="#外部带入的和函数内的在不产生引用时是没有关联的" class="headerlink" title="外部带入的和函数内的在不产生引用时是没有关联的"></a>外部带入的和函数内的在不产生引用时是没有关联的</h4></li><li><h4 id="非引用类型，原变量发生改变，不影响其他变量。"><a href="#非引用类型，原变量发生改变，不影响其他变量。" class="headerlink" title="非引用类型，原变量发生改变，不影响其他变量。"></a>非引用类型，原变量发生改变，不影响其他变量。</h4></li><li><h4 id="两个变量引用同一个地址，其中改变一个属性值，另一个也发生变化；其中改变引用地址后，另一个无关。"><a href="#两个变量引用同一个地址，其中改变一个属性值，另一个也发生变化；其中改变引用地址后，另一个无关。" class="headerlink" title="两个变量引用同一个地址，其中改变一个属性值，另一个也发生变化；其中改变引用地址后，另一个无关。"></a>两个变量引用同一个地址，其中改变一个属性值，另一个也发生变化；其中改变引用地址后，另一个无关。</h4></li><li><h4 id="ES5中形参不能设置初始值，ES6中形参可以设置初始值。"><a href="#ES5中形参不能设置初始值，ES6中形参可以设置初始值。" class="headerlink" title="ES5中形参不能设置初始值，ES6中形参可以设置初始值。"></a>ES5中形参不能设置初始值，ES6中形参可以设置初始值。</h4><ul><li><h5 id="形参初始值，当实参没有传入对应的值，默认是形参初始值（实参是undefined）；如果传入值则是传入的值。"><a href="#形参初始值，当实参没有传入对应的值，默认是形参初始值（实参是undefined）；如果传入值则是传入的值。" class="headerlink" title="形参初始值，当实参没有传入对应的值，默认是形参初始值（实参是undefined）；如果传入值则是传入的值。"></a>形参初始值，当实参没有传入对应的值，默认是形参初始值（实参是undefined）；如果传入值则是传入的值。</h5></li><li><h5 id="必要的形参定义在函数的前面，非必要的形参定义在后面，大多数的初始值都是针对非必要形参。"><a href="#必要的形参定义在函数的前面，非必要的形参定义在后面，大多数的初始值都是针对非必要形参。" class="headerlink" title="必要的形参定义在函数的前面，非必要的形参定义在后面，大多数的初始值都是针对非必要形参。"></a>必要的形参定义在函数的前面，非必要的形参定义在后面，大多数的初始值都是针对非必要形参。</h5></li><li><h5 id="因为JS是弱引用类型，所以参数是不需要设置类型的"><a href="#因为JS是弱引用类型，所以参数是不需要设置类型的" class="headerlink" title="因为JS是弱引用类型，所以参数是不需要设置类型的"></a>因为JS是弱引用类型，所以参数是不需要设置类型的</h5><ul><li><h6 id="如果封装的函数被别人使用时，别人传入的参数不一定类型相同，会造成函数不可预期的错误。"><a href="#如果封装的函数被别人使用时，别人传入的参数不一定类型相同，会造成函数不可预期的错误。" class="headerlink" title="如果封装的函数被别人使用时，别人传入的参数不一定类型相同，会造成函数不可预期的错误。"></a>如果封装的函数被别人使用时，别人传入的参数不一定类型相同，会造成函数不可预期的错误。</h6></li></ul></li></ul></li><li><h4 id="回调："><a href="#回调：" class="headerlink" title="回调："></a>回调：</h4><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">    fn();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"aaa"</span>);</span><br><span class="line">&#125;</span><br><span class="line">fn1(fn2);</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">fn();</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><h4 id="当传入的参数数量不定时，"><a href="#当传入的参数数量不定时，" class="headerlink" title="当传入的参数数量不定时，"></a>当传入的参数数量不定时，</h4><ul><li><h5 id="ES6：都会被放在arg数组中"><a href="#ES6：都会被放在arg数组中" class="headerlink" title="ES6：都会被放在arg数组中"></a>ES6：都会被放在<code>arg</code>数组中</h5><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">...arg</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>,log(arg);</span><br><span class="line">&#125;</span><br><span class="line">fn1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br></pre></td></tr></table></figure></li><li><h5 id="arg必须放在形参后面"><a href="#arg必须放在形参后面" class="headerlink" title="...arg必须放在形参后面"></a><code>...arg</code>必须放在形参后面</h5></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">fn,...arg</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>,log(arg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><h5 id="ES5-arguments实参列表"><a href="#ES5-arguments实参列表" class="headerlink" title="ES5: arguments实参列表"></a>ES5: <code>arguments</code>实参列表</h5><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> s=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="built_in">arguments</span>.length;i++)&#123;</span><br><span class="line">        s+=<span class="built_in">arguments</span>[i];</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> sum=fn1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(sum);</span><br></pre></td></tr></table></figure></li><li><h6 id="arguments-length-在函数内时当前函数传入的实参数量"><a href="#arguments-length-在函数内时当前函数传入的实参数量" class="headerlink" title="arguments.length 在函数内时当前函数传入的实参数量"></a><code>arguments.length</code> 在函数内时当前函数传入的实参数量</h6></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);</span><br><span class="line">&#125;</span><br><span class="line">fn1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line"><span class="comment">//arguments.length 在函数内是当前函数传入的实参数量</span></span><br><span class="line"><span class="comment">//console.log(fn1.length); 通过获取函数的length可以获取到函数的形参数量</span></span><br></pre></td></tr></table></figure></li><li><h6 id="通过获取函数的length可以获取到函数的形参数量"><a href="#通过获取函数的length可以获取到函数的形参数量" class="headerlink" title="通过获取函数的length可以获取到函数的形参数量"></a>通过获取函数的length可以获取到函数的形参数量</h6></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.name);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    fn1();</span><br><span class="line">&#125;</span><br><span class="line">fn2();</span><br><span class="line">fn1();</span><br></pre></td></tr></table></figure></li><li><h6 id="arguments-callee就是当前函数"><a href="#arguments-callee就是当前函数" class="headerlink" title="arguments.callee就是当前函数"></a><code>arguments.callee</code>就是当前函数</h6></li><li><h6 id="arguments-callee-name就是当前函数的名字"><a href="#arguments-callee-name就是当前函数的名字" class="headerlink" title="arguments.callee.name就是当前函数的名字"></a><code>arguments.callee.name</code>就是当前函数的名字</h6></li><li><h6 id="arguments-callee-caller调用当前函数的上下文函数。"><a href="#arguments-callee-caller调用当前函数的上下文函数。" class="headerlink" title="arguments.callee.caller调用当前函数的上下文函数。"></a><code>arguments.callee.caller</code>调用当前函数的上下文函数。</h6></li></ul></li></ul></li><li><h4 id="递归："><a href="#递归：" class="headerlink" title="递归："></a>递归：</h4><ul><li><h5 id="匿名递归："><a href="#匿名递归：" class="headerlink" title="匿名递归："></a>匿名递归：</h5><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">fn(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">fn1(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    a++;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="keyword">if</span>(a&gt;<span class="number">3</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">arguments</span>.callee(a);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><h4 id="return："><a href="#return：" class="headerlink" title="return："></a>return：</h4><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">fn1();</span><br></pre></td></tr></table></figure></li><li><h5 id="遇到return，跳出函数，不再执行后面的语句"><a href="#遇到return，跳出函数，不再执行后面的语句" class="headerlink" title="遇到return，跳出函数，不再执行后面的语句"></a>遇到return，跳出函数，不再执行后面的语句</h5><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!a) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">var</span> s=a+<span class="number">5</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(s);</span><br><span class="line">&#125;</span><br><span class="line">fn1(<span class="number">5</span>);<span class="comment">//5</span></span><br><span class="line">fn1();<span class="comment">//直接跳出</span></span><br></pre></td></tr></table></figure></li><li><h6 id="限定函数传入的参数类型或者其值的范围，来判断是否继续执行该函数还是跳出。"><a href="#限定函数传入的参数类型或者其值的范围，来判断是否继续执行该函数还是跳出。" class="headerlink" title="限定函数传入的参数类型或者其值的范围，来判断是否继续执行该函数还是跳出。"></a>限定函数传入的参数类型或者其值的范围，来判断是否继续执行该函数还是跳出。</h6></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">"零"</span>,<span class="string">"一"</span>,<span class="string">"二"</span>,<span class="string">"三"</span>,<span class="string">"四"</span>,<span class="string">"五"</span>,<span class="string">"六"</span>,<span class="string">"七"</span>,<span class="string">"八"</span>,<span class="string">"九"</span>,<span class="string">"十"</span>];</span><br><span class="line"><span class="comment">//6 六;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getChineseNum</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&gt;<span class="number">1000</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">11</span>) <span class="keyword">return</span> arr[n];</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">20</span>) <span class="keyword">return</span> <span class="string">"十"</span>+arr[n%<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">10</span>===<span class="number">0</span> &amp;&amp; n&lt;<span class="number">100</span>) <span class="keyword">return</span> arr[n/<span class="number">10</span>]+<span class="string">"十"</span>;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">100</span>) <span class="keyword">return</span> arr[<span class="built_in">parseInt</span>(n/<span class="number">10</span>)]+<span class="string">"十"</span>+arr[n%<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">100</span>===<span class="number">0</span>) <span class="keyword">return</span> arr[n/<span class="number">100</span>]+<span class="string">"百"</span>;</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">10</span>===<span class="number">0</span>) <span class="keyword">return</span> arr[<span class="built_in">parseInt</span>(n/<span class="number">100</span>)]+<span class="string">"百"</span>+arr[n/<span class="number">10</span>%<span class="number">10</span>]+<span class="string">"十"</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">parseInt</span>(n/<span class="number">10</span>)%<span class="number">10</span>===<span class="number">0</span>) <span class="keyword">return</span> arr[<span class="built_in">parseInt</span>(n/<span class="number">100</span>)]+<span class="string">"百零"</span>+arr[n%<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">return</span> arr[<span class="built_in">parseInt</span>(n/<span class="number">100</span>)]+<span class="string">"百"</span>+arr[<span class="built_in">parseInt</span>(n/<span class="number">10</span>)%<span class="number">10</span>]+<span class="string">"十"</span>+arr[n%<span class="number">10</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> str=getChineseNum(<span class="number">255</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br></pre></td></tr></table></figure></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSum</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">switch</span>(type)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"+"</span>:</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="built_in">arguments</span>.length;i++)s+=argumrnts[i];</span><br><span class="line"><span class="keyword">return</span> s;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"-"</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">"*"</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">"/"</span>:</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s=getSum(<span class="string">"+"</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure></li><li><h6 id="求和问题（return-break）"><a href="#求和问题（return-break）" class="headerlink" title="求和问题（return/break）"></a>求和问题（return/break）</h6><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSum</span>(<span class="params">type</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> s;</span><br><span class="line"><span class="keyword">switch</span>(type)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"+"</span>:</span><br><span class="line">    s=<span class="built_in">arguments</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">2</span>;i&lt;<span class="built_in">arguments</span>.length;i++)s+=<span class="built_in">arguments</span>[i];</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"-"</span>:</span><br><span class="line">    s=<span class="built_in">arguments</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">2</span>;i&lt;<span class="built_in">arguments</span>.length;i++)s-=<span class="built_in">arguments</span>[i];</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"*"</span>:</span><br><span class="line">    s=<span class="built_in">arguments</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">2</span>;i&lt;<span class="built_in">arguments</span>.length;i++)s*=<span class="built_in">arguments</span>[i];</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"/"</span>:</span><br><span class="line">    s=<span class="built_in">arguments</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">2</span>;i&lt;<span class="built_in">arguments</span>.length;i++)s/=<span class="built_in">arguments</span>[i];</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><h6 id="return跳出函数，直接从循环中跳出函数"><a href="#return跳出函数，直接从循环中跳出函数" class="headerlink" title="return跳出函数，直接从循环中跳出函数"></a><code>return</code>跳出函数，直接从循环中跳出函数</h6></li><li><h6 id="break跳出循环，执行循环后面的语句"><a href="#break跳出循环，执行循环后面的语句" class="headerlink" title="break跳出循环，执行循环后面的语句"></a><code>break</code>跳出循环，执行循环后面的语句</h6></li><li><h6 id="点击运行"><a href="#点击运行" class="headerlink" title="点击运行:"></a>点击运行:</h6><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bool=<span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> x=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line">div1.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">bool=!bool;</span><br><span class="line">&#125;</span><br><span class="line">setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!bool) <span class="keyword">return</span>;</span><br><span class="line">x++;</span><br><span class="line">    div1.style.left=x+<span class="string">"px"</span>;</span><br><span class="line">&#125;,<span class="number">16</span>);</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><h5 id="return-返回结果"><a href="#return-返回结果" class="headerlink" title="return 返回结果"></a><code>return</code> 返回结果</h5><ul><li><h6 id="单例模式-gt-登录弹框、遮罩层"><a href="#单例模式-gt-登录弹框、遮罩层" class="headerlink" title="单例模式=====&gt;登录弹框、遮罩层"></a>单例模式=====&gt;登录弹框、遮罩层</h6><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o;</span><br><span class="line"><span class="comment">//function fn1()&#123;</span></span><br><span class="line"><span class="comment">//return 0 || (o=&#123;&#125;);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!o)o=&#123;&#125;;</span><br><span class="line"><span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a=fn1();</span><br><span class="line"><span class="keyword">var</span> b=fn1();</span><br><span class="line"><span class="built_in">console</span>.log(a==b);</span><br></pre></td></tr></table></figure></li></ul></li><li><h6 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h6><ul><li><p>对象的属性名如果和值的变量名相同，可以直接带入</p></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name:name,</span><br><span class="line">        age:age,</span><br><span class="line">        sex:sex</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;name,age,sex&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o=fn1(<span class="string">"ankang"</span>,<span class="number">22</span>,<span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(o);</span><br></pre></td></tr></table></figure></li></ul></li><li><h6 id="返回多个数据"><a href="#返回多个数据" class="headerlink" title="返回多个数据"></a>返回多个数据</h6><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    a++;</span><br><span class="line">    b*=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> [a,b];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o=fn1(<span class="number">3</span>,<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(o);</span><br></pre></td></tr></table></figure></li></ul></li><li><h6 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h6><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"aaa"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//var f=fn1();</span></span><br><span class="line"><span class="comment">//f();</span></span><br><span class="line">fn1(<span class="number">3</span>)(<span class="number">4</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li><h6 id="返回回调函数的返回结果"><a href="#返回回调函数的返回结果" class="headerlink" title="返回回调函数的返回结果"></a>返回回调函数的返回结果</h6><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a,fn</span>)</span>&#123;</span><br><span class="line">    a++;</span><br><span class="line">    <span class="keyword">return</span> fn(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s=fn1(<span class="number">5</span>,<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n*<span class="number">2</span></span><br><span class="line">;&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure></li></ul></li><li><h6 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h6><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fn=<span class="built_in">arguments</span>[<span class="built_in">arguments</span>.length<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">var</span> s=<span class="built_in">arguments</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="built_in">arguments</span>.length<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        s=fn(s,<span class="built_in">arguments</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s=fn1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="function"><span class="keyword">function</span>(<span class="params">s,n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s+n;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//var s=fn1(1,2,3,4,5,6,function()&#123;</span></span><br><span class="line"><span class="comment">//    return s*n;</span></span><br><span class="line"><span class="comment">//&#125;)</span></span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b=<span class="number">2</span></span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s=fn1();</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure></li><li><h6 id="使用return-返回一个运行结果，或者一个值，仅能返回一个；返回的结果可以在函数执行时赋值给变量。"><a href="#使用return-返回一个运行结果，或者一个值，仅能返回一个；返回的结果可以在函数执行时赋值给变量。" class="headerlink" title="使用return 返回一个运行结果，或者一个值，仅能返回一个；返回的结果可以在函数执行时赋值给变量。"></a>使用return 返回一个运行结果，或者一个值，仅能返回一个；返回的结果可以在函数执行时赋值给变量。</h6></li></ul></li></ol><h3 id="对象中的函数"><a href="#对象中的函数" class="headerlink" title="对象中的函数"></a>对象中的函数</h3><ol><li><h4 id="只有写在对象方法中的this，才指向当前对"><a href="#只有写在对象方法中的this，才指向当前对" class="headerlink" title="只有写在对象方法中的this，才指向当前对"></a>只有写在对象方法中的this，才指向当前对</h4></li><li><h4 id="写在对象属性中的this，是指向当前所在的上下文环境中this指向。"><a href="#写在对象属性中的this，是指向当前所在的上下文环境中this指向。" class="headerlink" title="写在对象属性中的this，是指向当前所在的上下文环境中this指向。"></a>写在对象属性中的this，是指向当前所在的上下文环境中this指向。</h4><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span>,</span><br><span class="line">    c:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(obj.a);<span class="comment">//10</span></span><br><span class="line">        consoloe.log(<span class="keyword">this</span>.a);<span class="comment">//1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o = obj;</span><br><span class="line">obj=&#123;<span class="attr">a</span>:<span class="number">5</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(o.a);<span class="comment">//1</span></span><br><span class="line">o.c();</span><br></pre></td></tr></table></figure></li></ul></li><li><h4 id="连缀："><a href="#连缀：" class="headerlink" title="连缀："></a>连缀：</h4><ul><li><h5 id="通过return-this，来让对象中的方法可以实现连缀。"><a href="#通过return-this，来让对象中的方法可以实现连缀。" class="headerlink" title="通过return this，来让对象中的方法可以实现连缀。"></a>通过return this，来让对象中的方法可以实现连缀。</h5><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    a:<span class="number">1</span>;</span><br><span class="line">    run:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"run"</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);<span class="comment">//这里的this，打印obj这个对象===&gt;所以返回this，即返回obj这个对象。</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    play:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"play"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.run();</span><br><span class="line">obj.play();</span><br><span class="line">obj.run().play();</span><br><span class="line">obj.play().run();</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ol><h3 id="回调函数："><a href="#回调函数：" class="headerlink" title="回调函数："></a>回调函数：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">fn();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>,log(<span class="string">"aaa"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"bbb"</span>);</span><br><span class="line">&#125;</span><br><span class="line">fn1(fn2);</span><br><span class="line">fn1(fn3);</span><br></pre></td></tr></table></figure><h4 id="将一个函数以参数的形式传入到另一个函数中并且被调用执行"><a href="#将一个函数以参数的形式传入到另一个函数中并且被调用执行" class="headerlink" title="将一个函数以参数的形式传入到另一个函数中并且被调用执行"></a>将一个函数以参数的形式传入到另一个函数中并且被调用执行</h4><h4 id="目的就是不需要关注要执行谁，只负责执行。"><a href="#目的就是不需要关注要执行谁，只负责执行。" class="headerlink" title="目的就是不需要关注要执行谁，只负责执行。"></a>目的就是不需要关注要执行谁，只负责执行。</h4><h4 id="通过插入不同的函数，解决不同的问题。"><a href="#通过插入不同的函数，解决不同的问题。" class="headerlink" title="通过插入不同的函数，解决不同的问题。"></a>通过插入不同的函数，解决不同的问题。</h4><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a,b,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fn(a,b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a-b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn4</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a*b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn5</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a/b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s=fn1(<span class="number">3</span>,<span class="number">5</span>,fn5);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure></li></ul><h4 id="var-ids-setInterval-function-16-1-2-3"><a href="#var-ids-setInterval-function-16-1-2-3" class="headerlink" title="var ids=setInterval(function(){},16,1,2,3);"></a><code>var ids=setInterval(function(){},16,1,2,3);</code></h4><ul><li><h5 id="ids-setInterval-回调函数，间隔时间，参数1，参数2…"><a href="#ids-setInterval-回调函数，间隔时间，参数1，参数2…" class="headerlink" title="ids=setInterval(回调函数，间隔时间，参数1，参数2…)"></a>ids=setInterval(回调函数，间隔时间，参数1，参数2…)</h5><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ids2=setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"aaa"</span>)<span class="comment">//打印一次后，被解除，不再定时执行</span></span><br><span class="line">            clearInterval(ids2)</span><br><span class="line">        &#125;,<span class="number">10</span>)</span><br></pre></td></tr></table></figure></li></ul></li><li><h5 id="ids就是这个时间间隔标识id，可以通过clearInterval-ids-解除当前时间间隔设定"><a href="#ids就是这个时间间隔标识id，可以通过clearInterval-ids-解除当前时间间隔设定" class="headerlink" title="ids就是这个时间间隔标识id，可以通过clearInterval(ids)解除当前时间间隔设定"></a>ids就是这个时间间隔标识id，可以通过clearInterval(ids)解除当前时间间隔设定</h5></li><li><h5 id="回调函数会被在间隔时间达到时调用，参数1，参数2就是向回调函数传参的方式。"><a href="#回调函数会被在间隔时间达到时调用，参数1，参数2就是向回调函数传参的方式。" class="headerlink" title="回调函数会被在间隔时间达到时调用，参数1，参数2就是向回调函数传参的方式。"></a>回调函数会被在间隔时间达到时调用，参数1，参数2就是向回调函数传参的方式。</h5></li><li><h5 id="时间间隔如果设置为0，或者不设置，则默认为1毫秒后。"><a href="#时间间隔如果设置为0，或者不设置，则默认为1毫秒后。" class="headerlink" title="时间间隔如果设置为0，或者不设置，则默认为1毫秒后。"></a>时间间隔如果设置为0，或者不设置，则默认为1毫秒后。</h5></li><li><h5 id="瞬间执行完的循环是同步的，而延迟执行的是异步的，在异步执行时，同步时的变量可能早就变化了。"><a href="#瞬间执行完的循环是同步的，而延迟执行的是异步的，在异步执行时，同步时的变量可能早就变化了。" class="headerlink" title="瞬间执行完的循环是同步的，而延迟执行的是异步的，在异步执行时，同步时的变量可能早就变化了。"></a>瞬间执行完的循环是同步的，而延迟执行的是异步的，在异步执行时，同步时的变量可能早就变化了。</h5></li></ul><h4 id="clearInterval"><a href="#clearInterval" class="headerlink" title="clearInterval()"></a><code>clearInterval()</code></h4><h4 id="var-ids-setTimeout-function-clearTimeout-ids-1000-10"><a href="#var-ids-setTimeout-function-clearTimeout-ids-1000-10" class="headerlink" title="var ids=setTimeout(function(){clearTimeout(ids)},1000,10)"></a><code>var ids=setTimeout(function(){clearTimeout(ids)},1000,10)</code></h4><ul><li><h5 id="延迟1000毫秒后执行这个回调函数，只执行一次。"><a href="#延迟1000毫秒后执行这个回调函数，只执行一次。" class="headerlink" title="延迟1000毫秒后执行这个回调函数，只执行一次。"></a>延迟1000毫秒后执行这个回调函数，只执行一次。</h5></li></ul><h4 id="用setTimeout重构setInterval"><a href="#用setTimeout重构setInterval" class="headerlink" title="用setTimeout重构setInterval"></a>用setTimeout重构setInterval</h4><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setInterval_1</span>(<span class="params">fn,time</span>)</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">        fn(n);</span><br><span class="line">        setInterval_1(fn,time,n)</span><br><span class="line">    &#125;,time,<span class="built_in">arguments</span>[<span class="number">2</span>])</span><br><span class="line">&#125;</span><br><span class="line">setInterval_1(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(n);</span><br><span class="line">&#125;,<span class="number">1000</span>,<span class="string">"定时内容"</span>)</span><br></pre></td></tr></table></figure></li></ul><h4 id="异步回调使用"><a href="#异步回调使用" class="headerlink" title="异步回调使用"></a>异步回调使用</h4><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">redColor</span>(<span class="params">fn1,fn2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ids=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"红色"</span>)</span><br><span class="line">        clearTimeout(ids);</span><br><span class="line">        fn1(fn2,redColor);</span><br><span class="line">    &#125;,<span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">yellowColor</span>(<span class="params">fn1,fn2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ids=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"黄色"</span>)</span><br><span class="line">        clearTimeout(ids);</span><br><span class="line">        fn1(fn2,yellowColor);</span><br><span class="line">    &#125;,<span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">yellowColor</span>(<span class="params">fn1,fn2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ids=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"绿色"</span>)</span><br><span class="line">        clearTimeout(ids);</span><br><span class="line">        fn1(fn2,greenColor);</span><br><span class="line">    &#125;,<span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line">redColor(yellowColor,greenColor);</span><br></pre></td></tr></table></figure></li></ul><h4 id="回调函数：-1"><a href="#回调函数：-1" class="headerlink" title="回调函数："></a>回调函数：</h4><ul><li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">fn,n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n===<span class="literal">undefined</span>)n=<span class="number">0</span>;</span><br><span class="line">  n++;</span><br><span class="line">    <span class="keyword">return</span> fn(fn1,n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">fn,n</span>)</span>&#123;</span><br><span class="line">    n++;</span><br><span class="line">    <span class="keyword">if</span>(n===<span class="number">10</span>) <span class="keyword">return</span> n;</span><br><span class="line">    <span class="keyword">return</span> fn(fn2,n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s=fn1(fn2);</span><br><span class="line"><span class="built_in">console</span>.log(s);<span class="comment">//想要的结果是10，通过回调函数实现。</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;参数的定义&lt;/li&gt;
&lt;li&gt;&lt;code&gt;return&lt;/code&gt;的基本使用&lt;/li&gt;
&lt;li&gt;单例模式/工厂模式/桥接模式&lt;/li&gt;
&lt;li&gt;回调函数的概念&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://ankang.icu/tags/JavaScript/"/>
    
      <category term="设计模式" scheme="http://ankang.icu/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="回调函数" scheme="http://ankang.icu/tags/%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/"/>
    
  </entry>
  
</feed>
